<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title type="text">Blog Bitix</title>
    <subtitle type="text">Blog sobre al lenguaje de programación Java y la distribución GNU/Linux que uso habitualmente, Arch Linux, lo que aprendo sobre el software libre, la programación web y otros temas relacionados con la tecnología y la informática. El contenido puede contener trazas de asuntos fuera de tema.</subtitle>
    <link rel="self" href="https://picodotdev.github.io/blog-bitix/index.xml"/>
    <link href="https://picodotdev.github.io/blog-bitix/" />
    <id>https://picodotdev.github.io/blog-bitix/tags/software-libre/</id>
    <updated>2021-09-19T13:00:00+02:00</updated>
    <author><name>picodotdev</name></author>
    <generator>Hugo</generator>
    <icon>https://picodotdev.github.io/blog-bitix/assets/favicon.ico</icon>
    <logo>https://picodotdev.github.io/blog-bitix/assets/images/blog-bitix.svg</logo>
    <rights>https://creativecommons.org/licenses/by-sa/4.0/</rights>
    <entry>
        <id>https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/</id>
        <title>Jugar a videojuegos clásicos y míticos de arcade con Mame en GNU/Linux</title>
        <updated>2016-08-15T23:00:00+02:00</updated>
        <published>2016-08-15T12:00:00+02:00</published>
        <link rel="alternate" type="text/html" href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/"/>
        <author><name>picodotdev</name></author>
        <content type="html">
        
        <![CDATA[<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/mame.jpg" width="200" height="66" alt="MAME" title="MAME"  class=""></p>
</div>
<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/linux.svg" width="200" height="232" alt="Linux" title="Linux"  class=""></p>
</div>
<p><a href="https://www.gnu.org/">GNU</a>/<a href="https://www.linux.com/">Linux</a> no es la plataforma preferida por las empresas de desarrollo de videojuegos para lanzar sus juegos triple A. Esto hace que los juegos más destacados no esté disponibles en GNU/Linux o sea con un tiempo de retraso notable de meses y años. Pero esto no quiere decir que en la plataforma del pingüino no haya juegos algunos que ya he comentado como el <a href="https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-ajedrez-en-gnu-linux-con-gnome/">ajedrez</a>, <a href="https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-clasico-de-estrategia-de-tablero-go-en-gnu-linux/">go</a>, <a href="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/">juegos ofrecidos en el entorno del escritorio GNOME</a> y otros de diferentes géneros como estrategia, <em>arcade</em> o simulación.</p>
<p>Los juegos actuales de las consolas y PC poseen una calidad gráfica muy notable y han evolucionado al juego en red con otros jugadores como <abbr title="Massively Multiplayer Online">MMO</abbr> siendo más sociales. Hace una décadas las máquinas de <em>arcade</em> y las consolas más modestas como la <a href="https://es.wikipedia.org/wiki/Nintendo_Entertainment_System">NES de Nintendo</a> o los juegos <a href="https://es.wikipedia.org/wiki/Neo-Geo">Neo Geo</a> eran la norma y a pesar de que no se pueden comparar con el realismo de las tres dimensiones proporcionados por las potentes tarjetas gráficas en los juegos actuales su aspecto <a href="https://es.wikipedia.org/wiki/Pixel_art">pixel-art</a> es muy notable pero sobre todo la diversión que proporcionan no tiene que envidiar a cualquier juego actual.</p>
<p>Juegos míticos como 1942, 1943, 1944, Ghouls &amp; Ghosts, Double Dragon, Super Mario 3, Golden Axe, Pengo, Amidar, Donkey Kong, Metal Slug, Rainbow Islands, Track &amp; Field, The Legend of Zelda, &hellip; y me dejo muchísimos The NewZealand Story, Super Glob, Q*bert, Jump Bug, Bagman, &hellip; que en los que andamos entre los 35 y 50 forman parte de nuestro recuerdos de infancia, solo hay que buscar en la <a href="http://www.mamedb.com">base de datos de juegos MAME</a>. Quizá sea por estos recuerdos que la comunidad de juegos retro sigue vigente hoy en día y que organiza eventos de encuentro para fans de las consolas viejas que no obsoletas e informática antigua. Quizá dentro de unas décadas los que hoy está en su infancia con la <a href="https://www.raspberrypi.org/">Raspberry Pi</a> dentro de unas décadas recuerden este pequeño ordenador de 40 € como hoy algunos consideran a la <a href="https://es.wikipedia.org/wiki/MSX">MSX</a>.</p>
<p>Voy a explicar como instalar <a href="https://www.mame.net/">Mame</a> para emular esos sistemas antiguos y con las ROMs de los juegos jugar a ellos en un sistema GNU/Linux. Si nos hacemos con un controlador de consola con la típica cruceta y cuatro o  más botones la experiencia será mejor que con el teclado y más real a la original de la máquina de <em>arcade</em> o consola. El número de  <a href="http://www.progettoemma.net/mess/sysset.php">sistemas soportados por Mame</a> llega a más de 2000 entre ellos <a href="https://en.wikipedia.org/wiki/Amiga">Amiga</a>, <a href="https://en.wikipedia.org/wiki/Amstrad">Amstrad</a>, <a href="https://en.wikipedia.org/wiki/Atari">Atari</a>, <a href="https://en.wikipedia.org/wiki/Commodore_International">Commodore</a>, <a href="https://es.wikipedia.org/wiki/Nintendo_Entertainment_System">Famicon (NES)</a>, <a href="https://es.wikipedia.org/wiki/Master_System">Master System</a>, <a href="https://es.wikipedia.org/wiki/Neo-Geo">Neo Geo</a> o <a href="https://es.wikipedia.org/wiki/Sinclair_ZX_Spectrum">ZX Spectrum</a>.</p>
<p>Deberemos instalar el paquete del <a href="https://www.archlinux.org/packages/community/x86_64/mame/">emulador Mame</a> y un lanzador que en este caso usaré <a href="https://www.archlinux.org/packages/community/x86_64/qmc2/">QMC2</a> aunque como alternativa también está <a href="https://wiki.archlinux.org/index.php/RetroArch">RetroArch</a> o <a href="https://picodotdev.github.io/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/">Lakka para una Raspberry Pi</a>. Posteriormente deberemos obtener las ROMs de los juegos de algunas de las muchas páginas que existen en internet. En <a href="https://www.archlinux.org/">Arch Linux</a> los paquetes del emulador Mame y el lanzador QMC2 los instalamos con el siguiente comando:</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># pacman -S sdlmame qmc2</span>&#10;&#10;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>pacman.sh</span>
    </div>
</div>
<p>Instalados estos paquetes y descargada una ROM de ejemplo como la de <a href="https://www.emuparadise.me/M.A.M.E._-_Multiple_Arcade_Machine_Emulator_ROMs%5c/Ghouls%27n_Ghosts_%28World%29/13191">Ghouls &amp; Gosht</a> de <a href="https://www.emuparadise.me/">Emuparadise</a> y colocada en un directorio (no hace falta descomprimir el archivo de la ROM) iniciamos el lanzador QMC2. QMC2 inicialmente nos pedirá donde se encuentra el binario del emulador y el directorio donde están las ROMs. Configurado QMC2 buscaremos el juego por su nombre del que hayamos descargado la ROM.</p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/qmc2_hu51c538e42128df6834b042dbb0fa2199_148026_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Lanzador QMC2"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/qmc2_hu51c538e42128df6834b042dbb0fa2199_148026_300x200_fit_box_3.png" width="239" height="200" alt="Lanzador QMC2" title="Lanzador QMC2"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/qmc2-config_huc60b1896ef7bb86e0a5c7fd9374eb9f1_111395_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Configuración de QMC2"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/qmc2-config_huc60b1896ef7bb86e0a5c7fd9374eb9f1_111395_300x200_fit_box_3.png" width="245" height="200" alt="Configuración de QMC2" title="Configuración de QMC2"  class="lozad "></a></p>
<figcaption>Lanzador QMC2 de juegos MAME y su configuración</figcaption>
</figure>
</div>
<p>Si hay varios resultados para el mismo nombre de juego iremos probando a iniciarlos uno a uno hasta que se abra una ventana emergente con el juego. Las teclas por defecto del primer jugador son las flechas del teclado, la tecla <kbd>Alt-izquierda</kbd> para el botón 1, <kbd>Ctrl-izquierdo</kbd> para el botón 2 y la <kbd>barra espaciadora</kbd> para el botón 3. Iniciado sdlmame en la sección de <em>Input &gt; Player 1</em> podremos configurar las teclas. Las teclas <kbd>1</kbd> y <kbd>2</kbd> nos permitirá seleccionar entre uno y dos jugadores y la tecla <kbd>5</kbd> introducir monedas o créditos.</p>
<p>Esta es una pequeña lista no completa de los juegos míticos que recuerdo de mi época.</p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/amidar_hubc4308cc35696da9b25956ccfd9855f9_13211_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Amidar"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/amidar_hubc4308cc35696da9b25956ccfd9855f9_13211_300x200_fit_box_3.png" width="146" height="200" alt="Amidar" title="Amidar"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/dark-seal_hucfe34cd8d7c7326978ad0c49b5173ba4_87015_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Dark Seal"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/dark-seal_hucfe34cd8d7c7326978ad0c49b5173ba4_87015_300x200_fit_box_3.png" width="260" height="200" alt="Dark Seal" title="Dark Seal"  class="lozad "></a></p>
<figcaption>Amidar y Dark Seal</figcaption>
</figure>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/donkey-kong_hu10c590c485e9f50ef54f8c0b43701208_17613_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Donkey Kong"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/donkey-kong_hu10c590c485e9f50ef54f8c0b43701208_17613_300x200_fit_box_3.png" width="146" height="200" alt="Donkey Kong" title="Donkey Kong"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/donkey-kong-jr_hue26453685a6d84924ad3aac261f7e072_19015_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Donkey Kong Jr."><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/donkey-kong-jr_hue26453685a6d84924ad3aac261f7e072_19015_300x200_fit_box_3.png" width="146" height="200" alt="Donkey Kong Jr." title="Donkey Kong Jr."  class="lozad "></a></p>
<figcaption>Donkey Kong y Donkey Kong Jr.</figcaption>
</figure>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/ghosts-and-goblins_hu108322e18d4be2f4dc948e378284b630_33580_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Ghosts and Goblins"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/ghosts-and-goblins_hu108322e18d4be2f4dc948e378284b630_33580_300x200_fit_box_3.png" width="260" height="200" alt="Ghosts and Goblins" title="Ghosts and Goblins"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/ghouls-and-ghosts_hu77532e9e85563f58ebb13aeaff83506b_56185_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Ghouls and Ghosts"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/ghouls-and-ghosts_hu77532e9e85563f58ebb13aeaff83506b_56185_300x200_fit_box_3.png" width="260" height="200" alt="Ghouls and Ghosts" title="Ghouls and Ghosts"  class="lozad "></a></p>
<figcaption>Ghosts and Goblins y Ghouls and Ghosts</figcaption>
</figure>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/hyper-sports_hu3d2e4ca2d58fa5f17eafecb443fb8f05_21605_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Hyper Sports"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/hyper-sports_hu3d2e4ca2d58fa5f17eafecb443fb8f05_21605_300x200_fit_box_3.png" width="260" height="200" alt="Hyper Sports" title="Hyper Sports"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/metal-slug_hubc608c0fca18849df3a72dec0161de7c_96130_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Metal Slug"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/metal-slug_hubc608c0fca18849df3a72dec0161de7c_96130_300x200_fit_box_3.png" width="260" height="200" alt="Metal Slug" title="Metal Slug"  class="lozad "></a></p>
<figcaption>Hyper Sports y Metal Slug</figcaption>
</figure>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/meikyu-jima_hu8ce0416d09170cfd8684589182f18350_55196_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Meikyu Jima"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/meikyu-jima_hu8ce0416d09170cfd8684589182f18350_55196_300x200_fit_box_3.png" width="260" height="200" alt="Meikyu Jima" title="Meikyu Jima"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/new-rally-x_hu7f29676f5b7d4d83612d2b1390688dcf_65770_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="New Rally X"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/new-rally-x_hu7f29676f5b7d4d83612d2b1390688dcf_65770_300x200_fit_box_3.png" width="260" height="200" alt="New Rally X" title="New Rally X"  class="lozad "></a></p>
<figcaption>Meikyu Jima y New Rally X</figcaption>
</figure>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/pang_hu039dbe5d6bb85c0dcec3f3eb4675e2bd_40538_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Pang"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/pang_hu039dbe5d6bb85c0dcec3f3eb4675e2bd_40538_300x200_fit_box_3.png" width="260" height="200" alt="Pang" title="Pang"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/pengo_hua6b9c8f36c3b1684f203feb6134a00b1_18044_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Pengo"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/pengo_hua6b9c8f36c3b1684f203feb6134a00b1_18044_300x200_fit_box_3.png" width="146" height="200" alt="Pengo" title="Pengo"  class="lozad "></a></p>
<figcaption>Pang y Pengo</figcaption>
</figure>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/puck-man_hu5513b51dacc3828534cd903de9eafec1_13167_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Puck Man"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/puck-man_hu5513b51dacc3828534cd903de9eafec1_13167_300x200_fit_box_3.png" width="146" height="200" alt="Puck Man" title="Puck Man"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/rainbow-islands_huae08d7258668302adfd449b0bcb8f47c_23852_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Rainbow Islands"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/rainbow-islands_huae08d7258668302adfd449b0bcb8f47c_23852_300x200_fit_box_3.png" width="260" height="200" alt="Rainbow Islands" title="Rainbow Islands"  class="lozad "></a></p>
<figcaption>Puck Man y Rainbow Islands</figcaption>
</figure>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/rygar_hub1ed6ac22854118e70c9e2788ed80807_44080_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Rygar"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/rygar_hub1ed6ac22854118e70c9e2788ed80807_44080_300x200_fit_box_3.png" width="260" height="200" alt="Rygar" title="Rygar"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/squash_huc94653a0540889e0e5da31b91cb422e0_41412_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Squash"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/squash_huc94653a0540889e0e5da31b91cb422e0_41412_300x200_fit_box_3.png" width="260" height="200" alt="Squash" title="Squash"  class="lozad "></a></p>
<figcaption>Rygar y Squash</figcaption>
</figure>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/super-mario-bros_hu297bf63571ff10ffc7f387b2faf44338_18390_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Super Mario Bros"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/super-mario-bros_hu297bf63571ff10ffc7f387b2faf44338_18390_300x200_fit_box_3.png" width="260" height="200" alt="Super Mario Bros" title="Super Mario Bros"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/super-mario-bros-3_hu289675d9e90190303a58fda4b168c2d3_21997_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Super Mario Bros 3"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/super-mario-bros-3_hu289675d9e90190303a58fda4b168c2d3_21997_300x200_fit_box_3.png" width="260" height="200" alt="Super Mario Bros 3" title="Super Mario Bros 3"  class="lozad "></a></p>
<figcaption>Super Mario Bros y Super Mario Bros 3</figcaption>
</figure>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/super-volleyball_hud63a1dc8c8babba7c140910e5523fb84_33751_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Super Volleyball"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/super-volleyball_hud63a1dc8c8babba7c140910e5523fb84_33751_300x200_fit_box_3.png" width="260" height="200" alt="Super Volleyball" title="Super Volleyball"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/tetris_hu1048f60d496882750ad873234096efc9_18422_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Tetris"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/tetris_hu1048f60d496882750ad873234096efc9_18422_300x200_fit_box_3.png" width="260" height="200" alt="Tetris" title="Tetris"  class="lozad "></a></p>
<figcaption>Super Volleyball y Tetris</figcaption>
</figure>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/toki_hud99c1693d78bee17b3de33e48e9fc56f_57236_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Toki"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/toki_hud99c1693d78bee17b3de33e48e9fc56f_57236_300x200_fit_box_3.png" width="260" height="200" alt="Toki" title="Toki"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/track-and-field_hu78f71d9b8b578f2ac06107693d94286e_17734_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Track and Field"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/track-and-field_hu78f71d9b8b578f2ac06107693d94286e_17734_300x200_fit_box_3.png" width="260" height="200" alt="Track and Field" title="Track and Field"  class="lozad "></a></p>
<figcaption>Toki y Track and Field</figcaption>
</figure>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/traverse_hu863dca9361a1937584eebf684ddf3073_20119_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Traverse"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/traverse_hu863dca9361a1937584eebf684ddf3073_20119_300x200_fit_box_3.png" width="146" height="200" alt="Traverse" title="Traverse"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/willow_hu3a388a921e53ce2fa805e7c082cef535_72970_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Willow"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/willow_hu3a388a921e53ce2fa805e7c082cef535_72970_300x200_fit_box_3.png" width="260" height="200" alt="Willow" title="Willow"  class="lozad "></a></p>
<figcaption>Traverse y Willow</figcaption>
</figure>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/wonder-boy_hufd6e37da3f2e002a77f7236974a8121f_25686_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Wonder Boy"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/wonder-boy_hufd6e37da3f2e002a77f7236974a8121f_25686_300x200_fit_box_3.png" width="260" height="200" alt="Wonder Boy" title="Wonder Boy"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/world-rally_hu0e0e42332c8b12faee881aafd8227d60_126031_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="World Rally"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/world-rally_hu0e0e42332c8b12faee881aafd8227d60_126031_300x200_fit_box_3.png" width="260" height="200" alt="World Rally" title="World Rally"  class="lozad "></a></p>
<figcaption>Wonder Boy y World Rally</figcaption>
</figure>
</div>
<p>Ya solo nos queda buscar con tu buscador preferido algún artículo que recopile las mejores ROMs o aquellas que recuerdes y descargarlas en el directorio de las ROMS. Algunos emuladores deberemos previamente <a href="https://www.emuparadise.me/M.A.M.E._-_Multiple_Arcade_Machine_Emulator_ROMs/Neo-Geo/15030">descargar su ROM de emulador como en el caso de Neo-Geo</a> para esta plataforma y colocarla también en el directorio de las ROMs.</p>
<p>Para jugar a los juegos de la NES de Nintendo con QMC2 no he conseguido ejecutarlos, he tenido que introducir el comando <code>sdlmame nes</code> en la terminal buscar la ROM navegando por los directorios, seleccionarla y usar la opción de <em>reset</em>.</p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/sdlmame-nes_huf69c06575b84adafb546fd3c20ec4cfd_29844_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="sdlmame NES"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/sdlmame-nes_huf69c06575b84adafb546fd3c20ec4cfd_29844_300x200_fit_box_3.png" width="260" height="200" alt="sdlmame NES" title="sdlmame NES"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/sdlmame-nes-supermariobros3_hu1059f57bd650ff2901362f0d3b2158ad_17173_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="sdlmame Super Mario Bros 3"><img src="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/images/sdlmame-nes-supermariobros3_hu1059f57bd650ff2901362f0d3b2158ad_17173_300x200_fit_box_3.png" width="260" height="200" alt="sdlmame Super Mario Bros 3" title="sdlmame Super Mario Bros 3"  class="lozad "></a></p>
<figcaption>Ejecución de un juego NES con sdlmame</figcaption>
</figure>
</div>
<p>Si no usamos Linux tanto Mame como QMC2 están disponibles tanto para <a href="https://www.microsoft.com/es-es/windows/">Windows</a> como para <a href="https://www.apple.com/macos/">Mac OS X</a> en sus secciones de descarga:</p>
<ul>
<li><a href="https://www.mame.net/">mame.net</a></li>
<li><a href="http://qmc2.batcom-it.net/">qmc2.batcom-it.net</a></li>
</ul>
<p>Incluso con una <a href="https://amzn.to/2MXH57Q">Raspberry Pi</a> podremos jugar usando como pantalla una televisión. Con un <a href="https://amzn.to/2bjiYN8">mando inalámbrico de arcade</a> (no he probado si funcionará) tendremos una experiencia muy parecida a una consola. Instalando en la RPi una distribución como <a href="https://retropie.org.uk/">Retropie</a> o <a href="https://www.libretro.com/">Libretro</a> emularemos los juegos en este pequeño computador multipropósito.</p>
<div class="media media-amazon">
  <iframe style="width:120px;height:240px;" width="120" height="240" scrolling="no" frameborder="0" src="https://rcm-eu.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=blobit-21&amp;language=es_ES&amp;o=30&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=as_ss_li_til&amp;asins=B01CD5VC92&amp;linkId=a79bf1bb391f6591c039b7696a22e9ef&amp;internal=1" title="Amazon" class="lozad"></iframe>
  <iframe style="width:120px;height:240px;" width="120" height="240" scrolling="no" frameborder="0" src="https://rcm-eu.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=blobit-21&amp;language=es_ES&amp;o=30&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=as_ss_li_til&amp;asins=B013B61SCS&amp;linkId=61b4a105bc7d42ff174de961aaab0e67&amp;internal=1" title="Amazon" class="lozad"></iframe>
</div>
<p>Ya solo nos queda disfrutar y pasar un buen rato con nuestros juegos preferidos, nada que envidiar en cuanto a diversión a una PlayStation 4 ;), ah y no ocupan 20 GiB sino menos de 1 MiB.</p>
<div class="reference">
    Referencia:<br>
<ul>
<li><a href="https://www.emuparadise.me/">Emuparadise</a></li>
<li><a href="https://www.mamedb.com/">MAME Database</a></li>
<li><a href="https://www.xataka.com/videojuegos/emuladores-roms-y-el-debate-entre-la-nostalgia-el-amor-a-lo-retro-y-la-ilegalidad">Emuladores, ROMs y el debate entre la nostalgia, el amor a lo retro y la ilegalidad</a></li>
</ul>
</div>
]]>
        </content>
        
            
                <category term="gnu-linux"/>
            
                <category term="software-libre"/>
            
        
    </entry>
    <entry>
        <id>https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/</id>
        <title>Juegos incluidos en el entorno de escritorio GNOME</title>
        <updated>2016-08-07T01:00:00+02:00</updated>
        <published>2016-08-07T01:00:00+02:00</published>
        <link rel="alternate" type="text/html" href="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/"/>
        <author><name>picodotdev</name></author>
        <content type="html">
        
        <![CDATA[<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/gnome.svg" width="200" height="243" alt="GNOME" title="GNOME"  class=""></p>
</div>
<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/linux.svg" width="200" height="232" alt="Linux" title="Linux"  class=""></p>
</div>
<p>Además de los clásicos juegos de estrategia y de pensar como son el <a href="https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-ajedrez-en-gnu-linux-con-gnome/">ajedrez</a> y <a href="https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-clasico-de-estrategia-de-tablero-go-en-gnu-linux/">go</a> que disponemos para instalar en <a href="https://www.gnu.org/">GNU</a>/<a href="https://www.linux.com/">Linux</a>, en el entorno de escritorio <a href="https://www.gnome.org/">GNOME</a> tenemos otros juegos más casuales la mayoría también de pensar. En todos su mecánica es sencilla y nos servirán como pasatiempo.</p>
<p>Son los siguientes juegos con una pequeña descripción de cada uno, alguna captura de pantalla y su manual de usuario.</p>
<div class="alert alert-warning tableofcontents">
    <h2>Contenido del artículo</h2>
    <toc></toc>
</div>
<h3 id="aisleriot">Aisleriot</h3>
<p>Es una colección de más de 80 modos de solitario de cartas fáciles de jugar con la ayuda de un ratón. Cada modo de juego tiene sus propias reglas y disposición de cartas.</p>
<p><a href="http://library.gnome.org/users/aisleriot/stable/">Manual</a></p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/aisleriot_hudfa9982333d058f5389e2d02b287dc43_261985_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Juego aisleriot"><img src="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/aisleriot_hudfa9982333d058f5389e2d02b287dc43_261985_300x200_fit_box_3.png" width="249" height="200" alt="Juego aisleriot" title="Juego aisleriot"  class="lozad "></a></p>
<figcaption>Juego aisleriot</figcaption>
</figure>
</div>
<h3 id="cinco-o-mas">Cinco o mas</h3>
<p>El objetivo del juego es alinear 5 o más objetos del mismo color y forma haciéndolos desaparecer, con cada movimiento aparecerán nuevos objetos que nos dificultará alinearlos, el objetivo es poder jugar el máximo tiempo posible .</p>
<p><a href="http://library.gnome.org/users/five-or-more/stable/">Manual</a></p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/five-or-more_hu2c659bda0976cf2bb8db768362ff214d_22663_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Juego cinco o más"><img src="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/five-or-more_hu2c659bda0976cf2bb8db768362ff214d_22663_300x200_fit_box_3.png" width="239" height="200" alt="Juego cinco o más" title="Juego cinco o más"  class="lozad "></a></p>
<figcaption>Juego cinco o más</figcaption>
</figure>
</div>
<h3 id="cuatro-en-raya">Cuatro en raya</h3>
<p>El objetivo de 4 en raya es construir una línea de cuatro fichas mientras intentamos que el oponente (humano o computadora) construya su línea de 4 en raya. Una línea puede ser horizontal, vertical o diagonal.</p>
<p><a href="http://library.gnome.org/users/four-in-a-row/stable/">Manual</a></p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/four-in-a-row_hu319f8217581a94d5e6be76073b7c6ba3_18572_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Juego cuatro en raya"><img src="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/four-in-a-row_hu319f8217581a94d5e6be76073b7c6ba3_18572_300x200_fit_box_3.png" width="229" height="200" alt="Juego cuatro en raya" title="Juego cuatro en raya"  class="lozad "></a></p>
<figcaption>Juego cuatro en raya</figcaption>
</figure>
</div>
<h3 id="hitori">Hitori</h3>
<p>Hitori es similar al juego de puzles Sudoku pero en el que se trata de ir eliminando números cumpliendo las restricciones del juego en vez de ir poniéndolos. Posee varios tamaños de tablero.</p>
<p><a href="https://en.wikipedia.org/wiki/Hitori">Manual</a></p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/hitori_hu4ec9cc1865d3c23f18b5a8bac49cfaa9_40597_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Juego hitori"><img src="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/hitori_hu4ec9cc1865d3c23f18b5a8bac49cfaa9_40597_300x200_fit_box_3.png" width="167" height="200" alt="Juego hitori" title="Juego hitori"  class="lozad "></a></p>
<figcaption>Juego hitori</figcaption>
</figure>
</div>
<h3 id="iagno">Iagno</h3>
<p>Iango es una versión para computadora del <a href="https://es.wikipedia.org/wiki/Reversi">juego Reversi</a>, más comúnmente conocido como Othello. Es un juego para dos jugadores con ciertos parecidos a <a href="https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-clasico-de-estrategia-de-tablero-go-en-gnu-linux/">Go</a> en el que hay que capturar las fichas del oponente y dominar el tablero. El tablero es de 8 por 8 con baldosas que son blancas por un lado y negras por el otros. El objetivo de Iango es voltear tantas baldosas del oponente como sea posible sin que el oponente voltee las nuestras. El volteo se realiza atrapando las baldosas del oponente entre dos baldosas de nuestro color.</p>
<p><a href="http://library.gnome.org/users/iagno/stable/">Manual</a></p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/iagno_hue872609d10f13769ecf3d58b65d40990_21782_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Juego iagno"><img src="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/iagno_hue872609d10f13769ecf3d58b65d40990_21782_300x200_fit_box_3.png" width="226" height="200" alt="Juego iagno" title="Juego iagno"  class="lozad "></a></p>
<figcaption>Juego iagno</figcaption>
</figure>
</div>
<h3 id="klotski">Klotski</h3>
<p>El objetivo es mover el bloque marcado al área con bordes verdes utilizando un menor número de movimientos para una mejor puntuación.</p>
<p><a href="http://library.gnome.org/users/gnome-klotski/stable/">Manual</a></p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/klotski_hu271d96a1b0afbe3c58add1110ff5c2da_23040_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Juego klotski"><img src="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/klotski_hu271d96a1b0afbe3c58add1110ff5c2da_23040_300x200_fit_box_3.png" width="219" height="200" alt="Juego klotski" title="Juego klotski"  class="lozad "></a></p>
<figcaption>Juego klotski</figcaption>
</figure>
</div>
<h3 id="luces-fuera">Luces fuera</h3>
<p>Luces fuera es un juego de puzle donde el objetivo es apagar todas las baldosas del tablero. Cada clic intercambia el estado de la baldosa clicada y sus vecinos no diagonales.</p>
<p><a href="https://help.gnome.org/users/lightsoff/stable/">Manual</a></p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/lights-off_hu53ffef8f630fb6eb6039aa223bc01a98_9507_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Juego luces fuera"><img src="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/lights-off_hu53ffef8f630fb6eb6039aa223bc01a98_9507_300x200_fit_box_3.png" width="178" height="200" alt="Juego luces fuera" title="Juego luces fuera"  class="lozad "></a></p>
<figcaption>Juego luces fuera</figcaption>
</figure>
</div>
<h3 id="mahjongg">Mahjongg</h3>
<p>Mahjongg es un solitario para un jugador donde el objetivo es seleccionar baldosas iguales que hacerlo son eliminadas del tablero. Dado el parecido de los dibujos de algunas fichas es necesario un poco de agudeza visual y memoria fotográfica.</p>
<p><a href="https://wiki.gnome.org/Apps/Mahjongg">Manual</a></p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/mahjongg_hufabf9dcd576da55a98802131558b735e_140021_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Juego mahjongg"><img src="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/mahjongg_hufabf9dcd576da55a98802131558b735e_140021_300x200_fit_box_3.png" width="278" height="200" alt="Juego mahjongg" title="Juego mahjongg"  class="lozad "></a></p>
<figcaption>Juego mahjongg</figcaption>
</figure>
</div>
<h3 id="minas">Minas</h3>
<p>Mines es un juego de puzle donde hay que localizar las minas flotando en un océano usando solo tu cerebro y un poco de suerte. El juego empieza con una rejilla de cuadrados cubiertos sin idea de donde están las minas. Si descubres una casilla vacía sobrevives y tienes otra oportunidad. Se proporciona un poco de ayuda, al encontrar una casilla vacía se muestra un número que dirá cuántas minas hay en las casillas adyacentes (o sin numero si no hay minas cerca). Una vez localices unas pocas casillas vacías puedes empezar a deducir que casillas tiene minas y cuáles no. Ganas el juego una vez hayas revelado todas las minas sin minas y marcado todas las casillas con minas.</p>
<p><a href="http://library.gnome.org/users/gnome-mines/stable/">Manual</a></p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/mines_hu3ba043035f596f8422bf02e6b6d83743_24163_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Juego minas"><img src="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/mines_hu3ba043035f596f8422bf02e6b6d83743_24163_300x200_fit_box_3.png" width="190" height="200" alt="Juego minas" title="Juego minas"  class="lozad "></a></p>
<figcaption>Juego minas</figcaption>
</figure>
</div>
<h3 id="nibbles">Nibbles</h3>
<p>En Nibbles es un juego donde controlas una serpiente. La serpiente se mueve alrededor del tablero comiendo diamantes a la vez que esquivando los muros de alrededor. Posee un modo de juego en red y hasta seis gusanos oponentes.</p>
<p><a href="http://library.gnome.org/users/gnome-nibbles/stable/">Manual</a></p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/nibbles_hu4b9f896eb350f0d01f5ffb9bdedf1590_14565_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Juego nibbles"><img src="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/nibbles_hu4b9f896eb350f0d01f5ffb9bdedf1590_14565_300x200_fit_box_3.png" width="216" height="200" alt="Juego nibbles" title="Juego nibbles"  class="lozad "></a></p>
<figcaption>Juego nibbles</figcaption>
</figure>
</div>
<h3 id="quadrapassel">Quadrapassel</h3>
<p>Es similar al clásico <a href="https://es.wikipedia.org/wiki/Tetris">juego Tetris</a>. El objetivo del juego es crear una línea horizontal completa de bloques que desaparecerán. Los bloques se colocan en fichas de seis formas hechas de cuatro bloques cada una: una recta, dos en forma de L, un cuadrado y dos en forma de S. Los bloques caen desde arriba de la pantalla en orden aleatorio. Rotando los bloques y moviéndolos para conseguir líneas completas de bloques y consiguiendo puntos. A medida que el marcador es mayor el nivel del juego y la velocidad de caída de los bloques será mayor.</p>
<p><a href="http://library.gnome.org/users/quadrapassel/stable/">Manual</a></p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/quadrapassel_hu2ccc342b941b9af428e6d4364b004221_21588_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Juego quadrapassel"><img src="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/quadrapassel_hu2ccc342b941b9af428e6d4364b004221_21588_300x200_fit_box_3.png" width="194" height="200" alt="Juego quadrapassel" title="Juego quadrapassel"  class="lozad "></a></p>
<figcaption>Juego quadrapassel</figcaption>
</figure>
</div>
<h3 id="robots">Robots</h3>
<p>Debes evitar una horda de robots que intentarán alcanzarte. En cada paso que des se acercarán más a ti. Afortunadamente no son muy listos y se destruirán si chocan entre ellos además de que que tendrás una aparato de teleportación de gran ayuda.</p>
<p><a href="https://help.gnome.org/users/gnome-robots/stable/">Manual</a></p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/robots_hu20547e68536748a5bf8263122f3312fd_28679_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Juego robots"><img src="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/robots_hu20547e68536748a5bf8263122f3312fd_28679_300x200_fit_box_3.png" width="236" height="200" alt="Juego robots" title="Juego robots"  class="lozad "></a></p>
<figcaption>Juego robots</figcaption>
</figure>
</div>
<h3 id="sudoku">Sudoku</h3>
<p>Sudoku es un juego de lógica japonés donde iremos colocando números que no se han de repetir ni en la misma fila horizontal ni vertical ni en las diagonales centrales ni en su recuadro.</p>
<p><a href="http://library.gnome.org/users/gnome-sudoku/stable/">Manual</a></p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/sudoku_hu4e97f5f6752c99382a45a4aaae87dc50_24190_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Juego sudoku"><img src="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/sudoku_hu4e97f5f6752c99382a45a4aaae87dc50_24190_300x200_fit_box_3.png" width="217" height="200" alt="Juego sudoku" title="Juego sudoku"  class="lozad "></a></p>
<figcaption>Juego sudoku</figcaption>
</figure>
</div>
<h3 id="swell-foop">Swell Foop</h3>
<p>Es un juego de tipo puzle cuyo objetivo es eliminar los objetos del mismo color y figura adyacentes en el menor número de movimientos posible o la mayor cantidad de ellos en cada movimiento. Los objetos restantes colapsarán para rellenar los huecos vacíos y se formarán nuevos grupos. No se pueden eliminar objetos individuales.</p>
<p><a href="http://library.gnome.org/users/swell-foop/stable/">Manual</a></p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/swell-foop_huddb5c3a653259cf664f16245985b425f_95493_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Juego swell foop"><img src="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/swell-foop_huddb5c3a653259cf664f16245985b425f_95493_300x200_fit_box_3.png" width="274" height="200" alt="Juego swell foop" title="Juego swell foop"  class="lozad "></a></p>
<figcaption>Juego swell foop</figcaption>
</figure>
</div>
<h3 id="tali">Tali</h3>
<p>Es un juego de tipo poker con dados y menos dinero. Lanzas los dados tres veces intentando crear la mejor mano. Los dos relanzamientos incluyen ninguno o todos los datos.</p>
<p><a href="https://help.gnome.org/users/tali/stable/">Manual</a></p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/tali_huc84baf04939bf6b74148f79249122279_66846_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Juego tali"><img src="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/tali_huc84baf04939bf6b74148f79249122279_66846_300x200_fit_box_3.png" width="255" height="200" alt="Juego tali" title="Juego tali"  class="lozad "></a></p>
<figcaption>Juego tali</figcaption>
</figure>
</div>
<h3 id="tetravex">Tetravex</h3>
<p>Es un juego tipo puzle donde las piezas han de posicionarse de modo que los mismo números estén adyacentes entre si. El juego es cronometrado y los tiempos almacenados en un marcador global al sistema.</p>
<p><a href="https://help.gnome.org/users/gnome-tetravex/stable/">Manual</a></p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/tetravex_hu789a601112772a017273f704954a3899_43680_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Juego tetravex"><img src="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/tetravex_hu789a601112772a017273f704954a3899_43680_300x200_fit_box_3.png" width="271" height="200" alt="Juego tetravex" title="Juego tetravex"  class="lozad "></a></p>
<figcaption>Juego tetravex</figcaption>
</figure>
</div>
<h3 id="ajedrez">Ajedrez</h3>
<p>Es el clásico juego de ajedrez donde las partidas pueden ser jugadas contra un humano o una computadora. He escrito un artículo sobre el <a href="https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-ajedrez-en-gnu-linux-con-gnome/">juego de ajedrez de GNOME</a>.</p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/chess_hub9260f779140f75e304d843676ff395c_47029_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Juego ajedrez"><img src="https://picodotdev.github.io/blog-bitix/2016/08/juegos-incluidos-en-el-entorno-de-escritorio-gnome/images/chess_hub9260f779140f75e304d843676ff395c_47029_300x200_fit_box_3.png" width="234" height="200" alt="Juego ajedrez" title="Juego ajedrez"  class="lozad "></a></p>
<figcaption>Juego ajedrez</figcaption>
</figure>
</div>
]]>
        </content>
        
            
                <category term="gnu-linux"/>
            
                <category term="software-libre"/>
            
        
    </entry>
    <entry>
        <id>https://picodotdev.github.io/blog-bitix/2016/08/como-y-por-que-redirigir-trafico-web-del-dominio-raiz-al-subdominio-www/</id>
        <title>Cómo y por que redirigir tráfico web del dominio raíz al subdominio www (o viceversa)</title>
        <updated>2016-08-05T18:00:00+02:00</updated>
        <published>2016-08-05T17:00:00+02:00</published>
        <link rel="alternate" type="text/html" href="https://picodotdev.github.io/blog-bitix/2016/08/como-y-por-que-redirigir-trafico-web-del-dominio-raiz-al-subdominio-www/"/>
        <author><name>picodotdev</name></author>
        <content type="html">
        <![CDATA[<p><strong>La redirección del dominio raíz al subdominio es una de las cosas básicas que es recomendable realizar en todo dominio, para ello hay que añadir algo de configuración propia de cada servidor para realizar la redirección. Junto con usar el uso del protocolo HTTPS y forzar su uso con otra redirección mejoraremos el SEO y evitaremos penalizaciones por contenido duplicado.</strong></p>]]>
        <![CDATA[<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/html.svg" width="200" height="200" alt="HTML" title="HTML"  class=""></p>
</div>
<p>El nombre de un dominio está formado por varios subdominios separados por un caracter punto. Están los dominios de nivel superior, los genéricos y más antiguos <em>.com</em>, <em>.org</em>, <em>.info</em>, <em>.net</em>, los propios de cada país o territoriales <em>.es</em>, <em>.fr</em>, <em>.de</em> y más recientemente un montón de <a href="https://es.wikipedia.org/wiki/Dominio_de_nivel_superior">nuevos dominios de nivel superior</a> (<em>.futbol</em>, <em>.arte</em>, <em>.blog</em>, <em>.madrid</em>, &hellip;) aunque significativamente más caros. Después del dominio de nivel superior está el subdominio de la empresa, marca o personal, por ejemplo, <em>empresa.com</em> que es realmente lo que compramos cuando solicitamos registrar un dominio. En nuestro dominio <em>empresa.com</em> podemos administrar múltiples subdominios los clásicos son <em>www.empresa.com</em> para el servidor web, <em>smpt.empresa.com</em> para el correo electrónico, <em>ftp.empresa.com</em> para la transferencia de archivos y otros cualesquiera que deseemos.</p>
<p>En el caso del tráfico web debemos evitar que el servidor y la página o aplicación sea accedida por <em>empresa.com</em> y <em>www.empresa.com</em> ya que los buscadores tratarán a la página como dos diferentes y posiblemente detectando contenido duplicado que afectará negativamente o penalizando al SEO de la web. Lo que se suele hacer es hacer una <a href="https://es.wikipedia.org/wiki/HTTP_301">redirección permanente</a> (cuyo código de estado HTTP para la respuesta es 301) a nivel de servidor que redirija el tráfico de <em>empresa.com</em> a <em>www.empresa.com</em> cuando el usuario acceda con su navegador con la primera.</p>
<p>Esta es una de las cosas básicas que debemos realizar cuando instalemos un servidor web, otras cosas recomendadas para mejorar el SEO y la seguridad de los usuarios es <a href="https://picodotdev.github.io/blog-bitix/2016/02/configurar-http-2-en-nginx-apache-httpd-wildfly-o-jetty/">configurar el servidor web para usar el protocolo seguro HTTPS</a> y <a href="https://picodotdev.github.io/blog-bitix/2016/06/como-redirigir-peticiones-de-http-a-https-en-nginx-apache-tomcat-jetty-y-wildfly/">configurar el servidor web para forzar el uso de HTTPS</a> también haciendo una redirección cuando la petición use el protocolo no cifrado HTTP entre otras cosas que indico en la <a href="https://picodotdev.github.io/blog-bitix/series/web/">serie web</a>.</p>
<p>Dependiendo del servidor web que utilicemos la configuración a añadir para hacer la redirección será distinta, a continuación indicaré como hacerlo en dos de los servidores web más populares como son <a href="https://nginx.org/">Nginx</a> y <a href="https://httpd.apache.org/">Apache HTTPD</a>.</p>
<h3 id="nginx">Nginx</h3>
<p>Usando Docker y el archivo de configuración completo podemos probar que funciona en local sin necesidad de instalar o cambiar la configuración de Nginx si tenemos instalado su paquete.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ docker run --rm -p 80:80 -v <span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/nginx.conf:/etc/nginx/conf.d/default.conf:ro nginx:alpine&#10;&#10;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>docker-run-nginx.sh</span>
    </div>
</div>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span><span class="lnt">12&#10;</span><span class="lnt">13&#10;</span><span class="lnt">14&#10;</span><span class="lnt">15&#10;</span><span class="lnt">16&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="k">server</span> <span class="p">{</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">listen</span>&nbsp;&nbsp;&nbsp;&nbsp;   <span class="mi">80</span><span class="p">;</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">server_name</span>  <span class="s">localhost</span><span class="p">;</span>&#10;&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">return</span> <span class="mi">301</span> <span class="s">http://www.</span><span class="nv">$host$request_uri</span><span class="p">;</span>&#10;<span class="p">}</span>&#10;&#10;<span class="k">server</span> <span class="p">{</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">listen</span>&nbsp;&nbsp;&nbsp;&nbsp;   <span class="mi">80</span><span class="p">;</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">server_name</span>  <span class="s">www.localhost</span><span class="p">;</span>&#10;&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">root</span>   <span class="s">/usr/share/nginx/html</span><span class="p">;</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">index</span>  <span class="s">index.html</span> <span class="s">index.htm</span><span class="p">;</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">}</span>&#10;<span class="p">}</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>nginx.conf</span>
    </div>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/como-y-por-que-redirigir-trafico-web-del-dominio-raiz-al-subdominio-www/images/nginx_hu60b4db62b5f01597e3dc7329c4fe0959_28084_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Dominio antes de acceder al sitio"><img src="https://picodotdev.github.io/blog-bitix/2016/08/como-y-por-que-redirigir-trafico-web-del-dominio-raiz-al-subdominio-www/images/nginx_hu60b4db62b5f01597e3dc7329c4fe0959_28084_300x200_fit_box_3.png" width="292" height="200" alt="Dominio antes de acceder al sitio" title="Dominio antes de acceder al sitio"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/08/como-y-por-que-redirigir-trafico-web-del-dominio-raiz-al-subdominio-www/images/nginx-www_hu3cf963a0f16d792dac9874482b297887_38309_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Dominio después de acceder al sitio"><img src="https://picodotdev.github.io/blog-bitix/2016/08/como-y-por-que-redirigir-trafico-web-del-dominio-raiz-al-subdominio-www/images/nginx-www_hu3cf963a0f16d792dac9874482b297887_38309_300x200_fit_box_3.png" width="292" height="200" alt="Dominio después de acceder al sitio" title="Dominio después de acceder al sitio"  class="lozad "></a></p>
<figcaption>Dominio antes y después de acceder al sitio con Nginx</figcaption>
</figure>
</div>
<h3 id="apache">Apache</h3>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ docker run --rm -p 80:80 -v <span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/httpd.conf:/usr/local/apache2/conf/httpd.conf:ro httpd:alpine&#10;&#10;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>docker-run-httpd.sh</span>
    </div>
</div>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span><span class="lnt">12&#10;</span><span class="lnt">13&#10;</span><span class="lnt">14&#10;</span><span class="lnt">15&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-apache" data-lang="apache">...&#10;&#10;<span class="nb">ServerName</span> www.localhost&#10;&#10;<span class="nt">&lt;VirtualHost</span> <span class="s">*:80</span><span class="nt">&gt;</span>&#10;   <span class="nb">ServerName</span> localhost&#10;   <span class="nb">RewriteEngine</span> <span class="k">On</span>&#10;   <span class="nb">RewriteCond</span> %{HTTPS} <span class="k">off</span>&#10;   <span class="nb">RewriteRule</span> (.*) http://www.%{SERVER_NAME}$1 [R,L]&#10;<span class="nt">&lt;/VirtualHost&gt;</span>&#10;&#10;<span class="nt">&lt;VirtualHost</span> <span class="s">*:80</span><span class="nt">&gt;</span>&#10;   <span class="nb">ServerName</span> www.localhost&#10;   <span class="nb">DocumentRoot</span> <span class="sx">/usr/local/apache2/htdocs</span>&#10;<span class="nt">&lt;/VirtualHost&gt;</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>httpd.conf</span>
    </div>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/08/como-y-por-que-redirigir-trafico-web-del-dominio-raiz-al-subdominio-www/images/httpd_hu60b4db62b5f01597e3dc7329c4fe0959_28382_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Dominio antes de acceder al sitio"><img src="https://picodotdev.github.io/blog-bitix/2016/08/como-y-por-que-redirigir-trafico-web-del-dominio-raiz-al-subdominio-www/images/httpd_hu60b4db62b5f01597e3dc7329c4fe0959_28382_300x200_fit_box_3.png" width="292" height="200" alt="Dominio antes de acceder al sitio" title="Dominio antes de acceder al sitio"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/08/como-y-por-que-redirigir-trafico-web-del-dominio-raiz-al-subdominio-www/images/httpd-www_hu332c6287f536a309407784d237cee026_16732_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Dominio después de acceder al sitio"><img src="https://picodotdev.github.io/blog-bitix/2016/08/como-y-por-que-redirigir-trafico-web-del-dominio-raiz-al-subdominio-www/images/httpd-www_hu332c6287f536a309407784d237cee026_16732_300x200_fit_box_3.png" width="292" height="200" alt="Dominio después de acceder al sitio" title="Dominio después de acceder al sitio"  class="lozad "></a></p>
<figcaption>Dominio antes y después de acceder al sitio con Apache HTTPD</figcaption>
</figure>
</div>
<p>Si prefieriesemos hacer la redirección al revés, del subdominio www al dominio, variaríamos los valores de los nombres del servidor y los valores de las directivas de redirección. En los enlaces de referencia se incluye un ejemplo de esta configuración.</p>
<div class="alert alert-secondary sourcecode">
    <img src="https://picodotdev.github.io/blog-bitix/assets/images/icons/terminal.svg" width="64" height="64" alt="Terminal" title="Terminal" class="lozad sourcecode-icon">
    <p>
            El <a href="https://github.com/picodotdev/blog-ejemplos/tree/master/WebServerRedirectSubdomain">código fuente completo del ejemplo</a> puedes descargarlo del repositorio de ejemplos de Blog Bitix alojado en GitHub.</p>
</div>
<p>Referencia:</p>
<div class="reference">
    Referencia:<br>
<ul>
<li><a href="https://easyengine.io/tutorials/nginx/www-non-www-redirection/">Nginx config for www to non-www and non-www to www redirection</a></li>
<li><a href="http://www.thesitewizard.com/apache/redirect-domain-www-subdomain.shtml">How to Redirect URLs from Your Root Domain to the WWW Subdomain and Vice Versa</a></li>
</ul>
</div>
]]>
        </content>
        
            
                <category term="planeta-codigo"/>
            
                <category term="software"/>
            
                <category term="software-libre"/>
            
                <category term="web"/>
            
        
    </entry>
    <entry>
        <id>https://picodotdev.github.io/blog-bitix/2016/07/configurar-nginx-para-cachear-respuestas-del-servidor-de-aplicaciones/</id>
        <title>Configurar Nginx para cachear respuestas del servidor de aplicaciones</title>
        <updated>2016-07-31T01:00:00+02:00</updated>
        <published>2016-07-30T13:00:00+02:00</published>
        <link rel="alternate" type="text/html" href="https://picodotdev.github.io/blog-bitix/2016/07/configurar-nginx-para-cachear-respuestas-del-servidor-de-aplicaciones/"/>
        <author><name>picodotdev</name></author>
        <content type="html">
        <![CDATA[<p><strong>Las caches son un recurso utilizado para aumentar el rendimiento y evitar malgastar recursos. Si una petición es muy costosa pero que no cambia muy a menudo o no se necesitan que los datos estén totalmente actualizados cachear el resultado de esa petición evitará tener que recalcularla para cada petición, si se realizan muchas peticiones el aumento de rendimiento será drásticamente mejor usando además un menor número de recursos de los sistemas. Hay soluciones específicas para cacheo pero si nuestra necesidades no son extremadamente avanzadas el cacheo ofrecido por Nginx probablemente sea suficiente.</strong></p>]]>
        <![CDATA[<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/nginx.svg" width="300" height="64" alt="Nginx" title="Nginx"  class=""></p>
</div>
<p>Los servidores web son muy eficientes devolviendo al cliente archivos estáticos. Tradicionalmente el contenido estático formado por hojas de estilo, archivos JavaScript, imágenes o vídeos de una página o aplicación web han sido devueltos por un servidor web evitando que el servidor de aplicaciones tenga que procesar una gran cantidad de peticiones, aún hoy se sigue haciendo. En caso de que los recursos estáticos estén alojados en el servidor de aplicaciones en vez de en el servidor web, porque los recursos estáticos se empaquetan con la aplicación, el servidor web puede cachearlos evitando que peticiones lleguen al servidor de aplicaciones. En este artículo comentaré cual es la configuración necesaria a añadir en el servidor web <a href="https://nginx.org/">Nginx</a> que hace de <em>proxy</em> para que cachee el resultado de las peticiones así indicadas del servidor de aplicaciones, la aplicación genera el contenido y establece las cabeceras de cache indicando como quiere que se cachee el contenido devuelto.</p>
<p>Para que el servidor web realice el cacheo de los recursos en la aplicación esta ha de devolver en las cabeceras de respuesta como quiere que los recursos sean cacheados usando las cabeceras <em>Last-Modified</em>, <em>Expires</em>, <em>Cache-Control</em> quizá <em>Etag</em>. <a href="https://picodotdev.github.io/blog-bitix/2016/07/las-cabeceras-de-cache-del-protocolo-http/">Las cabeceras de cache del protocolo HTTP</a> establecen el comportamiento deseado para la cache.</p>
<p>Hay que modificar el archivo de configuración de Nginx para que cachee el contenido. La directiva <em>proxy_cache_path</em> indica donde se guardarán el contenido cacheado, cual es el tamaño de los metadatos de la caché y el tiempo de inactividad para cachear pasado el cual los recursos serán descartables. La directiva <em>proxy_cache_key</em> permite diferenciar los recursos en la cache, <em>add_header X-Proxy-Cache</em> añade una cabecera para la respuesta de Nginx con el resultado de cache que nos permite conocer si se produjo un acierto en la caché, un fallo o se ignoró la cache. Lo que es útil para depurar la aplicación u obtener información. Con <em>proxy_pass</em> hacemos que Nginx haga de <em>proxy</em> para el servidor de aplicaciones o la aplicación.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span><span class="lnt">12&#10;</span><span class="lnt">13&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="k">proxy_cache_path</span> <span class="s">/tmp/nginx</span> <span class="s">levels=1:2</span> <span class="s">keys_zone=localhost_zone:10m</span> <span class="s">inactive=60m</span><span class="p">;</span>&#10;<span class="k">proxy_cache_key</span> <span class="s">&#34;</span><span class="nv">$scheme$request_method$host$request_uri&#34;</span><span class="p">;</span>&#10;&#10;<span class="k">server</span> <span class="p">{</span>&#10;	<span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>&#10;&#10;	<span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>&#10;		<span class="kn">proxy_cache</span> <span class="s">localhost_zone</span><span class="p">;</span>&#10;		<span class="kn">add_header</span> <span class="s">X-Proxy-Cache</span> <span class="nv">$upstream_cache_status</span><span class="p">;</span>&#10;&#10;		<span class="kn">proxy_pass</span> <span class="s">http://java:4567</span><span class="p">;</span>&#10;	<span class="p">}</span>&#10;<span class="p">}</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>nginx.conf</span>
    </div>
</div>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span><span class="lnt">12&#10;</span><span class="lnt">13&#10;</span><span class="lnt">14&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">java</span><span class="p">:</span><span class="w">&#10;</span><span class="w">  </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">java:alpine</span><span class="w">&#10;</span><span class="w">  </span><span class="nt">volumes</span><span class="p">:</span><span class="w">&#10;</span><span class="w">&nbsp;&nbsp;&nbsp;&nbsp;</span>- <span class="l">../build/libs/:/mnt/app/</span><span class="w">&#10;</span><span class="w">  </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l">java -classpath &#34;/mnt/app/*&#34; io.github.picodotdev.blogbitix.cache.Main</span><span class="w">&#10;</span><span class="w">&#10;</span><span class="w"></span><span class="nt">nginx</span><span class="p">:</span><span class="w">&#10;</span><span class="w">  </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">nginx:alpine</span><span class="w">&#10;</span><span class="w">  </span><span class="nt">volumes</span><span class="p">:</span><span class="w">&#10;</span><span class="w">&nbsp;&nbsp;&nbsp;&nbsp;</span>- <span class="l">./nginx.conf:/etc/nginx/conf.d/default.conf:ro</span><span class="w">&#10;</span><span class="w">  </span><span class="nt">links</span><span class="p">:</span><span class="w">&#10;</span><span class="w">&nbsp;&nbsp;&nbsp;&nbsp;</span>- <span class="l">java</span><span class="w">&#10;</span><span class="w">  </span><span class="nt">ports</span><span class="p">:</span><span class="w">&#10;</span><span class="w">&nbsp;&nbsp;&nbsp;&nbsp;</span>- <span class="s2">&#34;80:80&#34;</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>docker-compose.yml</span>
    </div>
</div>
<p>La siguiente pequeña aplicación Java que usa el <a href="https://spark.apache.org/">framework Spark</a> expone dos recursos para probar el funcionamiento de cache de Nginx, un recurso añade cabeceras de cacheo para la respuesta y otro no añade las cabeceras de respuesta. Atendiendo a las cabeceras establecidas por la aplicación y Nginx configurado para hacer de <em>proxy</em> y cache devolverá el contenido deseado de su cache o solicitándolo a la aplicación y cacheándolo si así se indica en las cabeceras de respuesta.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span><span class="lnt">12&#10;</span><span class="lnt">13&#10;</span><span class="lnt">14&#10;</span><span class="lnt">15&#10;</span><span class="lnt">16&#10;</span><span class="lnt">17&#10;</span><span class="lnt">18&#10;</span><span class="lnt">19&#10;</span><span class="lnt">20&#10;</span><span class="lnt">21&#10;</span><span class="lnt">22&#10;</span><span class="lnt">23&#10;</span><span class="lnt">24&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">io.github.picodotdev.blogbitix.cache</span><span class="o">;</span>&#10;&#10;<span class="kn">import</span> <span class="nn">java.time.LocalDateTime</span><span class="o">;</span>&#10;<span class="kn">import</span> <span class="nn">java.util.UUID</span><span class="o">;</span>&#10;&#10;<span class="kn">import static</span> <span class="nn">spark.Spark.get</span><span class="o">;</span>&#10;&#10;<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>&#10;&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n">get</span><span class="o">(</span><span class="s">&#34;/nocache&#34;</span><span class="o">,</span> <span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">response</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">return</span> <span class="n">getMessage</span><span class="o">();</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="o">});</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n">get</span><span class="o">(</span><span class="s">&#34;/cache&#34;</span><span class="o">,</span> <span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">response</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n">response</span><span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">&#34;Cache-Control&#34;</span><span class="o">,</span> <span class="s">&#34;max-age=60&#34;</span><span class="o">);</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n">response</span><span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">&#34;Etag&#34;</span><span class="o">,</span> <span class="n">UUID</span><span class="o">.</span><span class="na">randomUUID</span><span class="o">().</span><span class="na">toString</span><span class="o">());</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">return</span> <span class="n">getMessage</span><span class="o">();</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="o">});</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="o">}</span>&#10;&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kd">private</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">getMessage</span><span class="o">()</span> <span class="o">{</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">return</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&#34;¡Hola mundo! (%s)&#34;</span><span class="o">,</span> <span class="n">LocalDateTime</span><span class="o">.</span><span class="na">now</span><span class="o">().</span><span class="na">toString</span><span class="o">());</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="o">}</span>&#10;<span class="o">}</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>Main.java</span>
    </div>
</div>
<p>La primera petición que se realiza al recurso <em>cache</em> devuelve un <a href="https://es.wikipedia.org/wiki/Anexo:C%C3%B3digos_de_estado_HTTP#2xx:_Peticiones_correctas">código de estado 200 de HTTP</a> y Nginx en la cabecera <em>X-Proxy-Cache</em> indica que se ha producido un <em>MISS</em> o fallo en la cache, la segunda petición realizada antes de que pase el minuto del tiempo de expiración devuelve un <a href="https://es.wikipedia.org/wiki/Anexo:C%C3%B3digos_de_estado_HTTP#3xx:_Redirecciones">código de estado 304</a> y Nginx en la cabecera <em>X-Proxy-Cache</em> un <em>HIT</em> o acierto en la cache, finalmente pasado más de un minuto del tiempo de expiración se devuelve un código de estado 200 y Nginx en la cabecera <em>X-Proxy-Cache</em> un <em>EXPIRED</em>. En las trazas de Nginx vemos las peticiones que se producen sus códigos de estado y después de este los bytes transferidos de contenido, nótese que en los casos de los 304 los bytes transferidos son 0, bytes de datos ahorrados y evitado que la petición llegue a la aplicación que son unos de los objetivos de las caches. En el recurso <em>nocache</em> de la aplicación Nginx no cachea el contenido devuelto ya que en este no se establecen las cabeceras de cache en la respuesta.</p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/configurar-nginx-para-cachear-respuestas-del-servidor-de-aplicaciones/images/nginx-cache-peticion-miss_hu304565c1a9343c13e420aa3d3414b984_122903_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Fallo en la cache de Nginx"><img src="https://picodotdev.github.io/blog-bitix/2016/07/configurar-nginx-para-cachear-respuestas-del-servidor-de-aplicaciones/images/nginx-cache-peticion-miss_hu304565c1a9343c13e420aa3d3414b984_122903_300x200_fit_box_3.png" width="207" height="200" alt="Fallo en la cache de Nginx" title="Fallo en la cache de Nginx"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/07/configurar-nginx-para-cachear-respuestas-del-servidor-de-aplicaciones/images/nginx-cache-peticion-hit_hu304565c1a9343c13e420aa3d3414b984_119894_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Acierto en la cache de Nginx"><img src="https://picodotdev.github.io/blog-bitix/2016/07/configurar-nginx-para-cachear-respuestas-del-servidor-de-aplicaciones/images/nginx-cache-peticion-hit_hu304565c1a9343c13e420aa3d3414b984_119894_300x200_fit_box_3.png" width="207" height="200" alt="Acierto en la cache de Nginx" title="Acierto en la cache de Nginx"  class="lozad "></a></p>
</figure>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/configurar-nginx-para-cachear-respuestas-del-servidor-de-aplicaciones/images/nginx-cache-peticion-expired_hu304565c1a9343c13e420aa3d3414b984_124798_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Expiración en la cache de Nginx"><img src="https://picodotdev.github.io/blog-bitix/2016/07/configurar-nginx-para-cachear-respuestas-del-servidor-de-aplicaciones/images/nginx-cache-peticion-expired_hu304565c1a9343c13e420aa3d3414b984_124798_300x200_fit_box_3.png" width="207" height="200" alt="Expiración en la cache de Nginx" title="Expiración en la cache de Nginx"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/07/configurar-nginx-para-cachear-respuestas-del-servidor-de-aplicaciones/images/curl-cache-miss-hit-expired_hu4df79497678506697c712136abe7a6ae_80932_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Fallo, acierto y expiración en la cache de Nginx con curl"><img src="https://picodotdev.github.io/blog-bitix/2016/07/configurar-nginx-para-cachear-respuestas-del-servidor-de-aplicaciones/images/curl-cache-miss-hit-expired_hu4df79497678506697c712136abe7a6ae_80932_300x200_fit_box_3.png" width="252" height="200" alt="Fallo, acierto y expiración en la cache de Nginx con curl" title="Fallo, acierto y expiración en la cache de Nginx con curl"  class="lozad "></a></p>
<figcaption>Fallo, acierto y expiración que produce en la cache de Nginx al realizar peticiones</figcaption>
</figure>
</div>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span><span class="lnt">3&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext">nginx_1  | 172.17.0.1 - - [30/Jul/2016:10:43:20 +0000] &#34;GET /cache HTTP/1.1&#34; 200 50 &#34;-&#34; &#34;Mozilla/5.0 (X11; Linux x86_64; rv:47.0) Gecko/20100101 Firefox/47.0&#34; &#34;-&#34;&#10;nginx_1  | 172.17.0.1 - - [30/Jul/2016:10:43:56 +0000] &#34;GET /cache HTTP/1.1&#34; 304 0 &#34;-&#34; &#34;Mozilla/5.0 (X11; Linux x86_64; rv:47.0) Gecko/20100101 Firefox/47.0&#34; &#34;-&#34;&#10;nginx_1  | 172.17.0.1 - - [30/Jul/2016:10:45:04 +0000] &#34;GET /cache HTTP/1.1&#34; 200 50 &#34;-&#34; &#34;Mozilla/5.0 (X11; Linux x86_64; rv:47.0) Gecko/20100101 Firefox/47.0&#34; &#34;-&#34;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>nginx.out</span>
    </div>
</div>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ curl -X GET -I http://localhost/cache&#10;&#10;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>curl-cache.sh</span>
    </div>
</div>
<p>Hay servidores específicos para realizar tareas de cache como <a href="https://varnish-cache.org/">Varnish</a> con más opciones de las que ofrece Nginx. Para los casos no complicados usando Nginx evitamos añadir una nueva pieza a la arquitectura de la aplicación. Entre los productos que ofrece Amazon está <a href="https://aws.amazon.com/es/cloudfront/">Cloudfront</a> que es una cache para recursos estáticos con el añadido de que de forma automática está distribuida geográficamente de forma que los recursos se sirven por un servidor más cercano al cliente evitando un mal rendimiento por la latencia. En el artículo <a href="https://picodotdev.github.io/blog-bitix/2014/07/servir-recursos-estaticos-desde-un-cdn-en-apache-tapestry/">servir recursos estáticos de un CDN en Apache Tapestry</a> comento como usar esta red de distribución de contenido ofrecida por Amazon.</p>
<div class="alert alert-secondary sourcecode">
    <img src="https://picodotdev.github.io/blog-bitix/assets/images/icons/terminal.svg" width="64" height="64" alt="Terminal" title="Terminal" class="lozad sourcecode-icon">
    <p>
            El <a href="https://github.com/picodotdev/blog-ejemplos/tree/master/NginxCache">código fuente completo del ejemplo</a> puedes descargarlo del repositorio de ejemplos de Blog Bitix alojado en GitHub y probarlo en tu equipo ejecutando siguiente comando:<br><code>./gradlew build, cd docker, docker-compose up</code></p>
</div>
<div class="reference">
    Referencia:<br>
<ul>
<li><a href="https://picodotdev.github.io/blog-bitix/2014/07/servir-recursos-estaticos-desde-un-cdn-en-apache-tapestry/">Servir recursos estáticos desde un CDN en Apache Tapestry</a></li>
<li><a href="https://serversforhackers.com/nginx-caching">Nginx Caching</a></li>
</ul>
</div>
]]>
        </content>
        
            
                <category term="planeta-codigo"/>
            
                <category term="software"/>
            
                <category term="software-libre"/>
            
                <category term="web"/>
            
        
    </entry>
    <entry>
        <id>https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-clasico-de-estrategia-de-tablero-go-en-gnu-linux/</id>
        <title>Jugar al clásico de estrategia de tablero Go en GNU/Linux</title>
        <updated>2016-07-23T13:00:00+02:00</updated>
        <published>2016-07-23T13:00:00+02:00</published>
        <link rel="alternate" type="text/html" href="https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-clasico-de-estrategia-de-tablero-go-en-gnu-linux/"/>
        <author><name>picodotdev</name></author>
        <content type="html">
        <![CDATA[<p><strong>En esta serie de artículos sobre juegos vamos a ver que en GNU/Linux también hay juegos a los que podemos jugar en nuestra plataforma preferida. Otro de ellos es el clásico de estrategia Go.</strong></p>]]>
        <![CDATA[<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/gnu.svg" width="200" height="196" alt="GNU" title="GNU"  class=""></p>
</div>
<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/linux.svg" width="200" height="232" alt="Linux" title="Linux"  class=""></p>
</div>
<p>Otro de los juegos clásicos junto con el ajedrez también para dos personas que requiere pensar y evaluar gran cantidad de posibles movimientos es el juego de origen chino Go. En <a href="https://www.gnu.org/">GNU</a>/<a href="https://www.linux.com/">Linux</a> e instalado el paquete <a href="https://www.archlinux.org/packages/extra/x86_64/gnugo/">gnugo</a> podremos jugar a este antiguo juego de estrategia tan o más complicado que el propio ajedrez por las diferentes estrategias que se pueden desarrollar.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># pacman -S gnugo</span>&#10;&#10;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>pacman.sh</span>
    </div>
</div>
<p>Dado que en esta versión para computadora el juego Go se basa en modo texto podremos jugarlo en cualquier sistema GNU/Linux dados su bajos requerimientos que son despreciables para cualquier computadora actual, incluso para una <a href="https://www.raspberrypi.org/">Raspberry Pi</a> u otros sistemas como la familia <a href="https://es.wikipedia.org/wiki/Berkeley_Software_Distribution">BSD</a> e incluso <a href="https://www.minix3.org/">Minix</a>.</p>
<p>El tablero clásico se compone de una matriz de 19 por 19 en el que en las intersecciones se irán colocando las fichas de forma alternativa entre cada jugador tratando de capturar las fichas del oponente rodeándolas con las que nosotros pongamos o de dominar la mayor cantidad del tablero. Cuando se da el juego por terminado se realiza el cálculo del marcador según el territorio dominado por las fichas y las piezas capturadas del oponente en el transcurso del mismo.</p>
<p>En el juego de computadora el siguiente movimiento se hace introduciendo la coordenada del tablero donde queremos colocar la siguiente piedra que se compone de una letra para la coordenada horizontal y un número para la coordenada vertical.</p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-clasico-de-estrategia-de-tablero-go-en-gnu-linux/images/tablero-go_hu883be6ea0c2b4998178849d710c6b25b_444935_2560x1440_fit_q90_box.jpg" data-gallery="data-gallery" title="Tablero tradicional de Go"><img src="https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-clasico-de-estrategia-de-tablero-go-en-gnu-linux/images/tablero-go_hu883be6ea0c2b4998178849d710c6b25b_444935_300x200_fit_q90_box.jpg" width="299" height="200" alt="Tablero tradicional de Go" title="Tablero tradicional de Go"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-clasico-de-estrategia-de-tablero-go-en-gnu-linux/images/tablero-gnugo_huecb56793c52f2ceac9561cf8731d8aec_18368_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Tablero de Gnugo"><img src="https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-clasico-de-estrategia-de-tablero-go-en-gnu-linux/images/tablero-gnugo_huecb56793c52f2ceac9561cf8731d8aec_18368_300x200_fit_box_3.png" width="300" height="193" alt="Tablero de Gnugo" title="Tablero de Gnugo"  class="lozad "></a></p>
<figcaption>Tablero tradicional de juego y tablero de Gnugo</figcaption>
</figure>
</div>
<p>En la wikipedia está documentado de forma bastante extensa las <a href="https://es.wikipedia.org/wiki/Go#Reglas_del_go">reglas del juego Go</a>, las diferentes formas de <a href="https://es.wikipedia.org/wiki/Go#Puntuaci.C3.B3n">calcular el marcador al final del juego</a> y las <a href="https://es.wikipedia.org/wiki/Go#T.C3.A1ctica">tácticas</a> y <a href="https://es.wikipedia.org/wiki/Go#Estrategia_b.C3.A1sica">estrategias</a> para jugar de la forma más efectiva que podamos.</p>
<p>Como una partida puede durar una buena cantidad de tiempo podemos salvar una partida a medias y cargarla de nuevo con los siguientes comandos:</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext">save [fichero]&#10;$ gnugo -l [fichero] --mode ascii&#10;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>save-commands.txt</span>
    </div>
</div>
<p>Con el comando <code>help</code> obtendremos una lista completa de los comandos a nuestra disposición como volver un movimiento hacia atrás si nos hemos equivocado al introducir el siguiente movimiento.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span><span class="lnt">12&#10;</span><span class="lnt">13&#10;</span><span class="lnt">14&#10;</span><span class="lnt">15&#10;</span><span class="lnt">16&#10;</span><span class="lnt">17&#10;</span><span class="lnt">18&#10;</span><span class="lnt">19&#10;</span><span class="lnt">20&#10;</span><span class="lnt">21&#10;</span><span class="lnt">22&#10;</span><span class="lnt">23&#10;</span><span class="lnt">24&#10;</span><span class="lnt">25&#10;</span><span class="lnt">26&#10;</span><span class="lnt">27&#10;</span><span class="lnt">28&#10;</span><span class="lnt">29&#10;</span><span class="lnt">30&#10;</span><span class="lnt">31&#10;</span><span class="lnt">32&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext">Commands:&#10; back&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Take back your last move&#10; boardsize&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   Set boardsize (on move 1 only)&#10; comment&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Write a comment to outputfile&#10; depth &lt;num&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Set depth for reading&#10; display&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Display game board&#10; exit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exit GNU Go&#10; force &lt;move&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Force a move for current color&#10; forward&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Go to next node in game tree&#10; goto &lt;movenum&gt;&nbsp;&nbsp;&nbsp;&nbsp;  Go to movenum in game tree&#10; level &lt;amount&gt;&nbsp;&nbsp;&nbsp;&nbsp;  Playing level (default = 10)&#10; handicap &lt;num&gt;&nbsp;&nbsp;&nbsp;&nbsp;  Set fixed handicap (on move 1 only)&#10; freehandicap &lt;num&gt;  Place free handicap (on move 1 only)&#10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Omit &lt;num&gt; to place handicap yourself&#10; help&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Display this help menu&#10; helpdebug&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   Display debug help menu&#10; info&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Display program settings&#10; komi&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set komi (on move 1 only)&#10; last&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Goto last node in game tree&#10; pass&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pass on your move&#10; play &lt;num&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Play &lt;num&gt; moves&#10; playblack&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   Play as Black (switch if White)&#10; playwhite&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   Play as White (switch if Black)&#10; quit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exit GNU Go&#10; resign&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Resign the current game&#10; save &lt;file&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Save the current game&#10; load &lt;file&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Load a game from file&#10; score&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   Toggle display of score On/Off&#10; showboard&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   Toggle display of board On/Off&#10; switch&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Switch the color you are playing&#10; undo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Take the last move back (same as back)&#10; &lt;move&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  A move of the format &lt;letter&gt;&lt;number&gt;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>help.out</span>
    </div>
</div>
<p>En Amazon hay algunos libros como <a href="https://amzn.to/2anENOU">El Go, un juego oriental milenario</a> y <a href="https://amzn.to/29ULTWQ">GO para principiantes</a>, en la librería libre también hay algunos como <a href="https://openlibra.com/es/book/manual-del-juego-del-go">Manual del Juego del Go</a> y <a href="https://openlibra.com/es/book/go-utilizando-las-36-estrategias-chinas">GO: Utilizando las 36 estrategias chinas</a>.</p>
<div class="media media-amazon">
  <iframe style="width:120px;height:240px;" width="120" height="240" scrolling="no" frameborder="0" src="https://rcm-eu.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=blobit-21&amp;language=es_ES&amp;o=30&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=as_ss_li_til&amp;asins=B015ENSU18&amp;linkId=210d272021d815869d2c44e1503b904e&amp;internal=1" title="Amazon" class="lozad"></iframe>
  <iframe style="width:120px;height:240px;" width="120" height="240" scrolling="no" frameborder="0" src="https://rcm-eu.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=blobit-21&amp;language=es_ES&amp;o=30&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=as_ss_li_til&amp;asins=8415211945&amp;linkId=f7342910d70bf91cda078a1ce3abbbc0&amp;internal=1" title="Amazon" class="lozad"></iframe>
</div>
<div class="reference">
    Referencia:<br>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Go_%28game%29">Juego Go</a></li>
<li><a href="https://en.wikipedia.org/wiki/Rules_of_go">Rules of go</a></li>
<li><a href="https://www.gnu.org/software/gnugo/">GNU Go</a></li>
</ul>
</div>
]]>
        </content>
        
            
                <category term="gnu-linux"/>
            
                <category term="software-libre"/>
            
        
    </entry>
    <entry>
        <id>https://picodotdev.github.io/blog-bitix/2016/07/las-cabeceras-de-cache-del-protocolo-http/</id>
        <title>Las cabeceras de cache del protocolo HTTP</title>
        <updated>2016-07-24T22:00:00+02:00</updated>
        <published>2016-07-22T18:00:00+02:00</published>
        <link rel="alternate" type="text/html" href="https://picodotdev.github.io/blog-bitix/2016/07/las-cabeceras-de-cache-del-protocolo-http/"/>
        <author><name>picodotdev</name></author>
        <content type="html">
        <![CDATA[<p><strong>Establecer directivas de cacheo en los recursos devueltos en una página o aplicación web tiene las ventajas de reducir el número de peticiones que llegan al servidor mejorando la latencia y el rendimiento pudiendo atender a más usuarios y mejora los tiempos de carga de las páginas. Usando varias directivas de cacheo la aplicación es capaz de determinar cómo quiere que el contenido devuelto o los recursos sean cacheados por los clientes o servidores de cache intermedios.</strong></p>]]>
        <![CDATA[<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/html.svg" width="200" height="200" alt="HTML" title="HTML"  class=""></p>
</div>
<p>Cachear aquella información que es costosa de generar y es muy solicitada consigue por un lado evitar que el servidor sea capaz de atender todo el tráfico reduciendo la cantidad de capacidad necesaria del servidor y por otro lado consigue que la información sea devuelta en menor tiempo. Para aquella información que no necesite estar completamente actualizada o que no cambia cada poco tiempo es candidata a cachearla en caso necesario. La cache se puede realizar en los navegadores guardando estos recursos como imágenes y hojas de estilos que consiguen reducir el número de peticiones al servidor y mostrando la página más rápidamente al usuario. La cache también se puede hacer en el lado del servidor usando soluciones específicas como <a href="https://varnish-cache.org/">Varnish</a>, <a href="https://memcached.org/">memcached</a> o para los casos más habituales que serán la mayoría las funcionalidades incorporadas en el servidor web como en el caso de <a href="https://nginx.org/">Nginx</a>.</p>
<p>El cacheo o almacenamiento temporal de datos puede hacerse a diferentes niveles sin ser exclusivos y de diferentes tipos de información. En la base de datos, en la aplicación, a nivel de página, con servidor intermedio o en el cliente.</p>
<p>Según la cantidad de tiempo de expiración que establezcamos como cache para el contenido conseguiremos variar el número de aciertos en la cache, aumentando el tiempo unos pocos segundos el tiempo que almacenamos en la cache el contenido conseguimos aumentar el porcentaje de aciertos en mayor medida. Con un tiempo de cache de un minuto ya se consiguen porcentajes elevados de aciertos según el número de peticiones realizadas en ese periodo de tiempo.</p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/las-cabeceras-de-cache-del-protocolo-http/images/cache-hit_hudc615f1ae90aec737c335abd2694f309_25816_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Petición con acierto en cache"><img src="https://picodotdev.github.io/blog-bitix/2016/07/las-cabeceras-de-cache-del-protocolo-http/images/cache-hit_hudc615f1ae90aec737c335abd2694f309_25816_300x200_fit_box_3.png" width="300" height="80" alt="Petición con acierto en cache" title="Petición con acierto en cache"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/07/las-cabeceras-de-cache-del-protocolo-http/images/cache-miss_hudc615f1ae90aec737c335abd2694f309_26206_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Petición con fallo en cache"><img src="https://picodotdev.github.io/blog-bitix/2016/07/las-cabeceras-de-cache-del-protocolo-http/images/cache-miss_hudc615f1ae90aec737c335abd2694f309_26206_300x200_fit_box_3.png" width="300" height="80" alt="Petición con fallo en cache" title="Petición con fallo en cache"  class="lozad "></a></p>
<figcaption>Petición con acierto y fallo en la cache</figcaption>
</figure>
</div>
<p>En el protocolo HTTP 1.1 se definieron tres mecanismos para las caches:</p>
<ul>
<li>Validez: permite usar un recurso sin hacer ninguna comprobación con el servidor ni para revalidarlo. Por ejemplo, la cabecera <em>Expires</em> indica en que momento el recurso puede haberse quedado obsoleto y se debería revalidar. La cabecera <em>Cache-Control: max-age</em> indica durante cuanto tiempo el recurso puede considerarse válido. Esto evita hacer peticiones al servidor si los recursos se consideran válidos.</li>
<li>Validación: una vez que un recurso se considera que puede ser obsoleto se debería comprobar haciendo una petición al servidor para conocer si sigue siendo válido y si no lo es obtener una nueva versión. Usando las cabeceras <em>If-Modified-Since</em> o <em>Etag</em> puede comprobarse si el recurso ha sido modificado con posterioridad a una fecha o ha variado. Se ha de hacer una petición para comprobar la validez del recurso pero los casos que sigan siendo válidos no hará falta descargarlos de nuevo. Si el recurso sigue siendo válido el servidor responde con el <a href="https://es.wikipedia.org/wiki/Anexo:C%C3%B3digos_de_estado_HTTP#3xx:_Redirecciones">código de estado 304</a> y sin el contenido en la respuesta.</li>
<li>Invalidación: las peticiones que usen los métodos <em>PUT</em>, <em>POST</em> y <em>DELETE</em> pueden invalidar recursos ya que modifican el estado del servidor.</li>
</ul>
<p>El servidor especifica como quiere que el contenido o recursos que devuelve sean cacheados a través de varias directivas del protocolo HTTP, establecidas como cabeceras en la respuesta cuando se solicita el contenido o recurso. Algunas cabeceras realizan funciones similares habiendo cierto solapamiento de funcionalidad. Son las siguientes:</p>
<ul>
<li>Cache-Control: private | public, no-cache, no-store, max-age, s-maxage, must-revalidate, no-transform, proxy-revalidate
<ul>
<li>El valor <em>private</em> indica que el recurso es privado para el usuario y no debería ser cacheado. Esto no hace el recurso más seguro ya que la información no se transmite cifrada para ello hay que <a href="https://picodotdev.github.io/blog-bitix/2014/02/configurar-ssl-en-un-servidor-tomcat-jboss-wildfly-lighttpd-nginx-apache/">usar un protocolo seguro con TLS/SSL</a>.</li>
<li><em>no-cache</em> el recurso no debería ser cacheado.</li>
<li><em>no-store</em> el recurso no debería ser almacenado.</li>
<li><em>max-age</em> normalmente se ha usado la directiva <em>Expires</em> pero esta permite establecer el máximo tiempo especificado en segundos a cachear un recurso.</li>
<li><em>s-maxage</em> similar a max-age pero para las caches intermedias entre el cliente y el servidor.</li>
<li><em>must-revalidate</em> cuando un recurso se queda obsoleto no se debe usar sin antes validar contra el servidor si sigue siendo válido.</li>
<li><em>no-transform</em> indica que el contenido original no debe ser modificado, por ejemplo, modificando el recurso para optimizarlo si por ejemplo se trata de una imagen.</li>
<li><em>proxy-revalidate</em> lo mismo que <em>must-revalidate</em> pero para las caches intermedias.</li>
</ul>
</li>
<li>If-Modified-Since: si el recurso solicitado con su variante no ha sido modificado con posterioridad a una fecha se devolverá un código de estado 304 sin el contenido.</li>
<li>Expires: es una marca de tiempo que indica cuando el recurso expira, dado que se basa en el tiempo no es muy precisa ya que los relojes de cada ordenador no están perfectamente sincronizados y hay variaciones incluso de minutos. Preferiblemente es mejor usar <em>Etag</em> o <em>max-age</em>.</li>
<li><a href="https://es.wikipedia.org/wiki/HTTP_ETag">Etag</a>: <em>entity-tag</em> o <em>etag</em> es un código <em>hash</em> único del contenido que permite conocer si el recurso ha cambiado. Si el recurso no ha cambiado no hace falta devolver el recurso, si ha cambiado se devuelve en la misma petición. Al no depender de una marca de tiempo como <em>Expires</em> o <em>max-age</em> es más fiable.</li>
<li>Vary: indica que el recurso varía según alguna cabecera proporcionada por el cliente como por ejemplo <em>User-Agent</em> o <em>Accept-Encoding</em>.</li>
<li>Pragma: esta es una directiva antigua que indicada como <em>pragma: no-cache</em>, se interpreta como <em>cache-control: no-cache</em>.</li>
</ul>
<div class="reference">
    Referencia:<br>
<ul>
<li><a href="http://dev.mobify.com/blog/beginners-guide-to-http-cache-headers/">A Beginner’s Guide to HTTP Cache Headers</a></li>
<li><a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html">Header Field Definitions</a></li>
<li><a href="https://librosweb.es/libro/symfony_2_x/capitulo_14.html">Capítulo 14. La caché de HTTP</a></li>
<li><a href="https://librosweb.es/libro/symfony_2_x/capitulo_14/introduccion_a_la_cache_de_http.html">14.3. Introducción a la caché de HTTP</a></li>
<li><a href="https://librosweb.es/libro/symfony_2_x/capitulo_14/caducidad_y_validacion_http.html">14.4. Caducidad y validación HTTP</a></li>
</ul>
</div>
]]>
        </content>
        
            
                <category term="planeta-codigo"/>
            
                <category term="software"/>
            
                <category term="software-libre"/>
            
                <category term="web"/>
            
        
    </entry>
    <entry>
        <id>https://picodotdev.github.io/blog-bitix/2016/07/como-crear-miniaturas-o-vistas-previas-de-imagenes-con-imagemagick/</id>
        <title>Cómo crear miniaturas o vistas previas de imágenes con ImageMagick</title>
        <updated>2020-04-12T18:00:00+01:00</updated>
        <published>2016-07-17T12:00:00+02:00</published>
        <link rel="alternate" type="text/html" href="https://picodotdev.github.io/blog-bitix/2016/07/como-crear-miniaturas-o-vistas-previas-de-imagenes-con-imagemagick/"/>
        <author><name>picodotdev</name></author>
        <content type="html">
        
        <![CDATA[<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/gnu.svg" width="200" height="196" alt="GNU" title="GNU"  class=""></p>
</div>
<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/linux.svg" width="200" height="232" alt="Linux" title="Linux"  class=""></p>
</div>
<p>En una página web es útil utilizar imágenes más pequeñas en tamaño que las originales para reducir la cantidad de kilobytes transferidos al acceder a una página consiguiendo además que cargue más rápido en conexiones lentas. Algunas imágenes en alta calidad pueden ocupar varios <em>megas</em>, es poco eficiente cargar una imagen que posteriormente en el navegador se visualizará en un tamaño más pequeño, ya que la imagen se descargará en su tamaño original pero posteriormente el navegador al visualizarla la escalará al tamaño en que la muestre.</p>
<p>Si con antelación hacemos el escalado podremos ahorrar una buena cantidad de ancho de banda que se notará en mayor medida en los dispositivos móviles que usen las redes de operadores de telefonía y ahorrará datos en aquellos usuarios que tengan algún límite de transferencia mensual en su tarifa. También afecta al SEO, el tiempo de carga de una página Google es un criterio que tiene en cuenta su algoritmo para ordenar los resultados en su página, para mejorar el tiempo de carga de una página otra cosa a considerar es <a href="https://picodotdev.github.io/blog-bitix/2020/01/mejorar-el-tiempo-de-carga-de-una-pagina-web-usando-lazy-load/">cargar las imágenes cuando se visualizan</a> y no al cargar la página.</p>
<p>Si tenemos unas pocas imágenes y no es algo que hagamos a menudo podemos usar una herramienta de retoque fotográfico como <a href="https://www.gimp.org/">GIMP</a> pero si tenemos muchas imágenes o es algo que hacemos de forma regular es conveniente automatizar la tarea, nos ahorraremos bastante tiempo de algo que es tedioso hacer de forma manual.</p>
<h3 id="crear-una-miniatura-o-vista-previa">Crear una miniatura o vista previa</h3>
<p>Al igual que podemos <a href="https://elblogdepicodev.blogspot.com.es/2012/11/convertir-imagenes-entre-formatos-y.html">convertir imágenes entre diferentes formatos</a> o <a href="https://elblogdepicodev.blogspot.com.es/2011/05/anadir-marcas-de-agua-con-imagemagick.html">añadir marcas de agua a imágenes</a> de forma automatizada con <a href="https://www.imagemagick.org">Image Magick</a> podemos escalar imágenes para generar miniaturas o <em>thumbnails</em> más pequeñas para que ocupen menos. El comando para escalar todas las imágenes de una extensión <em>jpg</em> en este caso a un tamaño original de 1600 de ancho y 1067 de alto en pixeles conservando la proporción de la imagen es el siguiente:</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span><span class="lnt">3&#10;</span><span class="lnt">4&#10;</span><span class="lnt">5&#10;</span><span class="lnt">6&#10;</span><span class="lnt">7&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ convert -resize 300x200 201607.jpg -strip 201607-thumb.jpg&#10;&#10;$ <span class="k">for</span> f in *.jpg<span class="p">;</span> <span class="k">do</span> convert -resize 300x200 <span class="s2">&#34;</span><span class="nv">$f</span><span class="s2">&#34;</span> -strip -set filename:f <span class="s2">&#34;%t-thumb.%e&#34;</span> <span class="s2">&#34;%[filename:f]&#34;</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span>&#10;$ <span class="k">for</span> f in *.png<span class="p">;</span> <span class="k">do</span> convert -resize 300x200 <span class="s2">&#34;</span><span class="nv">$f</span><span class="s2">&#34;</span> -strip -set filename:f <span class="s2">&#34;%t-thumb.%e&#34;</span> <span class="s2">&#34;%[filename:f]&#34;</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span>&#10;&#10;$ <span class="k">for</span> f in *.jpg<span class="p">;</span> <span class="k">do</span> convert -resize 650x450 <span class="s2">&#34;</span><span class="nv">$f</span><span class="s2">&#34;</span> -strip -set filename:f <span class="s2">&#34;%t-thumb.%e&#34;</span> <span class="s2">&#34;%[filename:f]&#34;</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span>&#10;$ <span class="k">for</span> f in *.png<span class="p">;</span> <span class="k">do</span> convert -resize 650x4500 <span class="s2">&#34;</span><span class="nv">$f</span><span class="s2">&#34;</span> -strip -set filename:f <span class="s2">&#34;%t-thumb.%e&#34;</span> <span class="s2">&#34;%[filename:f]&#34;</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>convert.sh</span>
    </div>
</div>
<p>El primero de los comandos sirve para hacer cambios de tamaño de forma individual a cada foto y el segundo de forma masiva usando <a href="https://es.wikipedia.org/wiki/Bash">Bash</a>. Crean nuevos archivos con las miniaturas añadiendo al nombre de cada vista previa la terminación <em>_thumb</em>, además con la opción <em>-strip</em> elimina la metainformación de la foto o imagen que se hubiera almacenado junto con ella como hacen los teléfonos móviles y cámaras.</p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/como-crear-miniaturas-o-vistas-previas-de-imagenes-con-imagemagick/images/201607_hu155add02d6c6e28845a8452d31796ba4_1042102_2560x1440_fit_q90_box.jpg" data-gallery="data-gallery" title="Previsualización de imagen en tamaño 450x300"><img src="https://picodotdev.github.io/blog-bitix/2016/07/como-crear-miniaturas-o-vistas-previas-de-imagenes-con-imagemagick/images/201607_hu155add02d6c6e28845a8452d31796ba4_1042102_450x300_fit_q90_box.jpg" width="450" height="300" alt="Previsualización de imagen en tamaño 450x300" title="Previsualización de imagen en tamaño 450x300"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/07/como-crear-miniaturas-o-vistas-previas-de-imagenes-con-imagemagick/images/201607_hu155add02d6c6e28845a8452d31796ba4_1042102_2560x1440_fit_q90_box.jpg" data-gallery="data-gallery" title="Previsualización de imagen en tamaño 300x200"><img src="https://picodotdev.github.io/blog-bitix/2016/07/como-crear-miniaturas-o-vistas-previas-de-imagenes-con-imagemagick/images/201607_hu155add02d6c6e28845a8452d31796ba4_1042102_300x200_fit_q90_box.jpg" width="300" height="200" alt="Previsualización de imagen en tamaño 300x200" title="Previsualización de imagen en tamaño 300x200"  class="lozad "></a></p>
<figcaption>Previsualización de imagen en tamaño 450x300 y 300x200 del original 1600x1067</figcaption>
</figure>
</div>
<p>Este sería una ejemplo de la imagen que tengo como fondo de escritorio. Su tamaño original ocupa 1 MB, la vista previa aproximadamente 210 KB en tamaño 650x450 y 50 KB en tamaño de 300x200. Una reducción de tamaño considerable.</p>
<p>Los ahorros de espacio conseguidos anteriores son consecuencia de reducir el tamaño de la imagen, <a href="https://picodotdev.github.io/blog-bitix/2019/12/comando-para-convertir-imagenes-jpeg-y-png-a-webp/">utilizar el formato de imagen WebP en vez de <em>jpg</em> y <em>png</em></a> además permite conseguir importantes reducciones de tamaño del espacio ocupado por las fotografías e imágenes originales, en torno al 20% y 60%.</p>
<h3 id="escala-de-grises">Escala de grises</h3>
<p>Los siguientes comandos permiten crear imágenes en escala de grises.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span><span class="lnt">3&#10;</span><span class="lnt">4&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ convert -colorspace Gray -strip 201607.jpg 201607-grayscale.jpg&#10;&#10;$ <span class="k">for</span> f in *.png<span class="p">;</span> <span class="k">do</span> convert -colorspace Gray -strip <span class="s2">&#34;</span><span class="nv">$f</span><span class="s2">&#34;</span> -set filename:f <span class="s2">&#34;%t-grayscale.%e&#34;</span> %<span class="o">[</span>filename:f<span class="o">]</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span>&#10;$ <span class="k">for</span> f in *.jpg<span class="p">;</span> <span class="k">do</span> convert -colorspace Gray -strip <span class="s2">&#34;</span><span class="nv">$f</span><span class="s2">&#34;</span> -set filename:f <span class="s2">&#34;%t-grayscale.%e&#34;</span> %<span class="o">[</span>filename:f<span class="o">]</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>convert-grayscale.sh</span>
    </div>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/como-crear-miniaturas-o-vistas-previas-de-imagenes-con-imagemagick/images/201607-grayscale_hue8d2e8676336d3e683f83c1cad0c5c68_777197_2560x1440_fit_q90_box.jpg" data-gallery="data-gallery" title="Imagen en escala de grises"><img src="https://picodotdev.github.io/blog-bitix/2016/07/como-crear-miniaturas-o-vistas-previas-de-imagenes-con-imagemagick/images/201607-grayscale_hue8d2e8676336d3e683f83c1cad0c5c68_777197_300x200_fit_q90_box.jpg" width="300" height="200" alt="Imagen en escala de grises" title="Imagen en escala de grises"  class="lozad "></a></p>
<figcaption>Imagen en escala de grises</figcaption>
</figure>
</div>
<h3 id="convertir-svg-a-jpg-o-png">Convertir svg a jpg o png</h3>
<p>Si la imagen original está en el formato escalar <em>svg</em> para convertir a formatos <em>jpg</em>, <em>png</em>, o generar vistas previas el comando es similar indicando también el tamaño de la imagen deseada.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ <span class="k">for</span> f in *.svg<span class="p">;</span> <span class="k">do</span> convert -size 750x750 -resize 750x750 <span class="s2">&#34;</span><span class="nv">$f</span><span class="s2">&#34;</span> <span class="s2">&#34;</span><span class="si">${</span><span class="nv">f</span><span class="p">%.*</span><span class="si">}</span><span class="s2">.jpg&#34;</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span>&#10;$ <span class="k">for</span> f in *.svg<span class="p">;</span> <span class="k">do</span> convert -size 750x750 -resize 750x750 <span class="s2">&#34;</span><span class="nv">$f</span><span class="s2">&#34;</span> <span class="s2">&#34;</span><span class="si">${</span><span class="nv">f</span><span class="p">%.*</span><span class="si">}</span><span class="s2">.png&#34;</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span>&#10;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>convert-svg.sh</span>
    </div>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/como-crear-miniaturas-o-vistas-previas-de-imagenes-con-imagemagick/images/linux.svg" data-gallery="data-gallery" title="Imagen en formato svg"><img src="https://picodotdev.github.io/blog-bitix/2016/07/como-crear-miniaturas-o-vistas-previas-de-imagenes-con-imagemagick/images/linux.svg" width="300" height="200" alt="Imagen en formato svg" title="Imagen en formato svg"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/07/como-crear-miniaturas-o-vistas-previas-de-imagenes-con-imagemagick/images/linux_hud5f503d22f4edce3a84c965f12d594f3_119982_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Imagen en formato png"><img src="https://picodotdev.github.io/blog-bitix/2016/07/como-crear-miniaturas-o-vistas-previas-de-imagenes-con-imagemagick/images/linux_hud5f503d22f4edce3a84c965f12d594f3_119982_300x200_fit_box_3.png" width="172" height="200" alt="Imagen en formato png" title="Imagen en formato png"  class="lozad "></a></p>
<figcaption>Imagen en formato svg y en formato png</figcaption>
</figure>
</div>
<div class="reference">
    Referencia:<br>
<ul>
<li><a href="https://elblogdepicodev.blogspot.com.es/2011/05/anadir-marcas-de-agua-con-imagemagick.html">Añadir marcas de agua a imágenes con ImageMagick</a></li>
<li><a href="https://elblogdepicodev.blogspot.com.es/2012/11/convertir-imagenes-entre-formatos-y.html">Convertir imágenes entre formatos y cambiar tamaño con ImageMagick</a></li>
</ul>
</div>
]]>
        </content>
        
            
                <category term="gnu-linux"/>
            
                <category term="software-libre"/>
            
        
    </entry>
    <entry>
        <id>https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-ajedrez-en-gnu-linux-con-gnome/</id>
        <title>Jugar al ajedrez en GNU/Linux con GNOME</title>
        <updated>2016-07-16T12:00:00+02:00</updated>
        <published>2016-07-16T12:00:00+02:00</published>
        <link rel="alternate" type="text/html" href="https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-ajedrez-en-gnu-linux-con-gnome/"/>
        <author><name>picodotdev</name></author>
        <content type="html">
        
        <![CDATA[<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/gnome.svg" width="200" height="243" alt="GNOME" title="GNOME"  class=""></p>
</div>
<p><a href="https://www.gnu.org/">GNU</a>/<a href="https://www.linux.com/">Linux</a> no es la plataforma primaria de los juegos triple A, pero existen multitud de juegos libres y gratuitos que igualmente nos hacen pasar muy buenos ratos. Hoy en día los juegos tienen unos gráficos en tres dimensiones espectaculares cada vez más realistas para lo que hasta hace unos pocos años atrás era posible. Aún así algunos juegos no tan avanzados gráficamente son tan o más adictivos y divertidos que cualquier juego triple A y con la ventaja de que no requieren tener la última tarjeta gráfica con al última tecnología, gran cantidad de memoria y se pueden jugar en un portátil sin el riesgo de sobrecalentarlo.</p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-ajedrez-en-gnu-linux-con-gnome/images/gnome-chess_hua891d357448f8c855f54d7c0cebc0c5a_44982_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Icono del juego de ajedrez de GNOME"><img src="https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-ajedrez-en-gnu-linux-con-gnome/images/gnome-chess_hua891d357448f8c855f54d7c0cebc0c5a_44982_300x200_fit_box_3.png" width="200" height="200" alt="Icono del juego de ajedrez de GNOME" title="Icono del juego de ajedrez de GNOME"  class="lozad "></a></p>
<figcaption>Icono del juego de ajedrez de GNOME</figcaption>
</figure>
</div>
<p>Un juego clásico es el ajedrez y en GNU/Linux y con el entorno de escritorio <a href="https://www.gnome.org/">GNOME</a> podemos jugar contra un oponente humano o la propia computadora que en el nivel fácil ya nos pondrá en muchas dificultades si es que conseguimos ganarla. Para instalar el juego de ajedrez deberemos instalar el <a href="https://www.archlinux.org/packages/extra/x86_64/gnome-chess/">paquete gnome-chess</a> y si queremos que el oponente sea la computadora instalar el <a href="https://www.archlinux.org/packages/community/x86_64/gnuchess/">paquete gnuchess</a>. Usando <a href="https://www.archlinux.org/">Arch Linux</a> y su gestor de paquetes los instalamos de la siguiente forma:</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># pacman -S gnome-chess gnuchess</span>&#10;&#10;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>pacman.sh</span>
    </div>
</div>
<p>Iniciado el juego veremos el tablero de 8 por 8 casillas con las fichas posicionadas en las casillas de inicio.</p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-ajedrez-en-gnu-linux-con-gnome/images/gnome-chess-tablero_hubbe885730450091cb1400539f604646b_45643_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Juego de ajedrez de GNOME"><img src="https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-ajedrez-en-gnu-linux-con-gnome/images/gnome-chess-tablero_hubbe885730450091cb1400539f604646b_45643_300x200_fit_box_3.png" width="235" height="200" alt="Juego de ajedrez de GNOME" title="Juego de ajedrez de GNOME"  class="lozad "></a></p>
<figcaption>Juego de ajedrez de GNOME</figcaption>
</figure>
</div>
<p>En la sección de preferencias del juego configuramos si el oponente es otro humano o la computadora, en caso de ser la computadora su nivel de inteligencia o dificultad, si queremos jugar con las fichas blancas o negras si queremos establecer un tiempo límite para la partida para cada jugador y el tipo de reloj para el tiempo límite. En el apartado del aspecto podemos cambiar la apariencia de las fichas, el formato de la última jugada, la orientación del tablero, si queremos numeración y si queremos sugerencias.</p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-ajedrez-en-gnu-linux-con-gnome/images/gnome-chess-preferencias-juego_hu1011da7fac410ad49f87d2194b7a4299_24890_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Preferencias de juego de ajedrez de GNOME"><img src="https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-ajedrez-en-gnu-linux-con-gnome/images/gnome-chess-preferencias-juego_hu1011da7fac410ad49f87d2194b7a4299_24890_300x200_fit_box_3.png" width="221" height="200" alt="Preferencias de juego de ajedrez de GNOME" title="Preferencias de juego de ajedrez de GNOME"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-ajedrez-en-gnu-linux-con-gnome/images/gnome-chess-preferencias-aspecto_hu5aef004cab90a9b42d002761955e69fa_20829_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Preferencias de aspecto de ajedrez de GNOME"><img src="https://picodotdev.github.io/blog-bitix/2016/07/jugar-al-ajedrez-en-gnu-linux-con-gnome/images/gnome-chess-preferencias-aspecto_hu5aef004cab90a9b42d002761955e69fa_20829_300x200_fit_box_3.png" width="221" height="200" alt="Preferencias de aspecto de ajedrez de GNOME" title="Preferencias de aspecto de ajedrez de GNOME"  class="lozad "></a></p>
<figcaption>Preferencias del juego</figcaption>
</figure>
</div>
<p>También podemos guardar la partida para continuarla con posterioridad. Solo nos queda practicar la diferentes aperturas que forman una parte esencial de juego seguir alguna estrategia para el juego medio y como finalizar la partida con las piezas que no hayan sido eliminadas por el oponente. En la wikipedia hay algún <a href="https://es.wikipedia.org/wiki/Ajedrez">buen artículo introductorio al ajedrez</a> y <a href="https://es.wikipedia.org/wiki/Apertura_%28ajedrez%29">algunos artículos sobre las aperturas</a> donde encontraremos las más conocidas y seguro que otras muchas que no conocíamos e incluso si estamos aprendiendo la <a href="https://es.wikipedia.org/wiki/Leyes_del_ajedrez">reglas del juego</a>.</p>
<p>En Amazon hay varios libros que serán más didácticos sobre estrategia para el juego del ajedrez como <a href="https://amzn.to/29Cj30T">Ajedrez para niños</a> o <a href="https://amzn.to/29CiOTD">El ajedrez de torneo</a> y en la biblioteca libre <a href="https://openlibra.com">OpenLibra</a> hay algunos de libre acceso como <a href="https://openlibra.com/es/book/ajedrez-y-su-ensenanza-libro-de-aperturas">Ajedrez y su Enseñanza: Libro de Aperturas</a>. Leyendo alguno de estos libros obtendremos pautas y tácticas que podemos emplear para mejorar nuestras jugadas.</p>
<div class="media media-amazon">
  <iframe style="width:120px;height:240px;" width="120" height="240" scrolling="no" frameborder="0" src="https://rcm-eu.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=blobit-21&amp;language=es_ES&amp;o=30&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=as_ss_li_til&amp;asins=8425517893&amp;linkId=c1e1fc606e2606fec91e2db08cadcfa7&amp;internal=1" title="Amazon" class="lozad"></iframe>
  <iframe style="width:120px;height:240px;" width="120" height="240" scrolling="no" frameborder="0" src="https://rcm-eu.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=blobit-21&amp;language=es_ES&amp;o=30&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=as_ss_li_til&amp;asins=842450397X&amp;linkId=b78575ac7587361ca5bb1405a9a2de99&amp;internal=1" title="Amazon" class="lozad"></iframe>
</div>
]]>
        </content>
        
            
                <category term="gnu-linux"/>
            
                <category term="software-libre"/>
            
        
    </entry>
    <entry>
        <id>https://picodotdev.github.io/blog-bitix/2016/07/como-crear-un-proxy-inverso-entre-el-servidor-web-nginx-y-un-servidor-de-aplicaciones-java/</id>
        <title>Cómo crear un proxy inverso entre el servidor web Nginx y un servidor de aplicaciones Java</title>
        <updated>2016-07-16T13:30:00+02:00</updated>
        <published>2016-07-15T18:00:00+02:00</published>
        <link rel="alternate" type="text/html" href="https://picodotdev.github.io/blog-bitix/2016/07/como-crear-un-proxy-inverso-entre-el-servidor-web-nginx-y-un-servidor-de-aplicaciones-java/"/>
        <author><name>picodotdev</name></author>
        <content type="html">
        <![CDATA[<p><strong>Continuando la serie de artículos sobre varios aspectos realizados muy comúnmente en las aplicaciones y servidores web en este artículo explicaré como hacer que un servidor web nginx haga de <em>proxy</em> inverso para un servidor de aplicaciones Java en este caso Tomcat.</strong></p>]]>
        <![CDATA[<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/nginx.svg" width="300" height="64" alt="Nginx" title="Nginx"  class=""></p>
</div>
<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/tomcat.svg" width="200" height="133" alt="Tomcat" title="Tomcat"  class=""></p>
</div>
<p>Las aplicaciones web dinámicas Java se despliegan en un contenedor de <em>servlets</em> o un <a href="https://picodotdev.github.io/blog-bitix/2014/02/el-servidor-de-aplicaciones-jboss-slash-wildfly/">servidor de aplicaciones como WildFly</a> que implementa las <a href="https://picodotdev.github.io/blog-bitix/2016/03/introduccion-y-nuevas-caracteristicas-de-java-ee-7/">especificaciones de los estándares de Java EE</a> pero es habitual que los usuarios no accedan directamente al contenedor de aplicaciones Java sino que se ponga delante un servidor web como <a href="https://httpd.apache.org/">Apache</a> o <a href="https://nginx.org/">Nginx</a> con la tarea de que realice algunas tareas. Las tareas que puede realizar un servidor web son varias como:</p>
<ul>
<li><a href="https://picodotdev.github.io/blog-bitix/2014/02/configurar-ssl-en-un-servidor-tomcat-jboss-wildfly-lighttpd-nginx-apache/">Realizar la conexión TLS/SSL</a> sin necesidad de que llegue al servidor de aplicaciones.</li>
<li>Servir el contenido estático.</li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/07/configurar-nginx-como-balanceador-de-carga/">Balanceo de carga</a> con la que podremos tener varios servidores de aplicaciones Java en caso de que la aplicación deba soportar muchos usuarios.</li>
<li>Cacheo de páginas y contenido.</li>
<li>Redirecciones y reescritura de URL.</li>
<li>Seguridad.</li>
<li><a href="https://picodotdev.github.io/blog-bitix/2014/08/forzar-el-uso-del-protocolo-https-en-apache-tapestry/">Forzar el uso del protocolo seguro HTTPS</a>.</li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/02/configurar-http-2-en-nginx-apache-httpd-wildfly-o-jetty/">Ofrecer el protocolo HTTP/2</a>.</li>
</ul>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/como-crear-un-proxy-inverso-entre-el-servidor-web-nginx-y-un-servidor-de-aplicaciones-java/images/reverse-proxy_hucb2175c82081c16158c94c9e724fcd73_17320_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Esquema de un proxy inverso"><img src="https://picodotdev.github.io/blog-bitix/2016/07/como-crear-un-proxy-inverso-entre-el-servidor-web-nginx-y-un-servidor-de-aplicaciones-java/images/reverse-proxy_hucb2175c82081c16158c94c9e724fcd73_17320_300x200_fit_box_3.png" width="300" height="113" alt="Esquema de un proxy inverso" title="Esquema de un proxy inverso"  class="lozad "></a></p>
<figcaption>Un proxy inverso recibe las peticiones de internet y las reenvía a los servidores de una red interna sin necesidad de que los clientes conozcan la red interna</figcaption>
</figure>
</div>
<p>Para que un servidor web como Nginx actúe como <em>proxy</em> inverso o <em>reverse proxy</em> para un servidor de aplicaciones debemos añadir unas pocas directivas al archivo de configuración del servidor web. En el caso de Nginx usando la directiva <em>proxy_pass</em> donde indicamos para una localización la URL del servidor de aplicaciones a la que se le solicitará el contenido, en el ejemplo usando un servidor <a href="https://tomcat.apache.org/">Tomcat</a>.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="k">server</span> <span class="p">{</span>&#10;	<span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>&#10;&#10;	<span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>&#10;		<span class="kn">proxy_pass</span> <span class="s">http://tomcat:8080</span><span class="p">;</span>&#10;		<span class="kn">proxy_set_header</span> <span class="s">Host</span> <span class="nv">$host</span><span class="p">;</span>&#10;		<span class="kn">proxy_set_header</span> <span class="s">X-Real-IP</span> <span class="nv">$remote_addr</span><span class="p">;</span>&#10;		<span class="kn">proxy_set_header</span> <span class="s">X-Forwarded-Proto</span> <span class="s">https</span><span class="p">;</span>&#10;	<span class="p">}</span>&#10;<span class="p">}</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>nginx.conf</span>
    </div>
</div>
<p>Una forma fácil de probarlo es usando <a href="https://www.docker.com/">Docker</a> y <a href="https://docs.docker.com/compose/">Docker Compose</a> que en varios artículos introductorios siendo el primero el <a href="https://picodotdev.github.io/blog-bitix/2014/11/como-instalar-y-guia-de-inicio-basica-de-docker/">inicio básico de Docker</a> comento como empezar a usarlo y en que consiste esta nueva forma de ejecución para las aplicaciones. Con el siguiente archivo de Docker Compose creamos dos contenedores uno para Nginx en el que proporcionamos su configuración personalizada y otro contenedor para Tomcat.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">tomcat</span><span class="p">:</span><span class="w">&#10;</span><span class="w">  </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">tomcat</span><span class="w">&#10;</span><span class="w">&#10;</span><span class="w"></span><span class="nt">nginx</span><span class="p">:</span><span class="w">&#10;</span><span class="w">  </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">nginx:alpine</span><span class="w">&#10;</span><span class="w">  </span><span class="nt">volumes</span><span class="p">:</span><span class="w">&#10;</span><span class="w">&nbsp;&nbsp;&nbsp;&nbsp;</span>- <span class="l">./nginx.conf:/etc/nginx/conf.d/default.conf:ro</span><span class="w">&#10;</span><span class="w">  </span><span class="nt">links</span><span class="p">:</span><span class="w">&#10;</span><span class="w">&nbsp;&nbsp;&nbsp;&nbsp;</span>- <span class="l">tomcat</span><span class="w">&#10;</span><span class="w">  </span><span class="nt">ports</span><span class="p">:</span><span class="w">&#10;</span><span class="w">&nbsp;&nbsp;&nbsp;&nbsp;</span>- <span class="s2">&#34;80:80&#34;</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>docker-compose.yml</span>
    </div>
</div>
<p>Al hacer un <em>proxy</em> inverso debemos tener en cuenta que el servidor Tomcat si devuelve URL absolutas las haga siendo las del servidor web por las que se accede a la aplicación, si únicamente genera URL relativas no deberemos hacer nada pero en el caso de absolutas el servidor Tomcat deberá conocer el protocolo usado en el servidor web (HTTP o HTTPS) y el puerto del servidor web que suele ser 80 para HTTP y 443 para HTTPS pero que en el servidor Tomcat suele ser 8080 para HTTP y 8443 para HTTPS. Si el protocolo y puerto usado en el servidor web y servidor de aplicaciones es diferente y una aplicación genera URL absolutas el servidor de aplicaciones deberá tener esto en cuenta que es lo que se usa el en servidor web.</p>
<p>En la documentación se comentan varios <a href="https://tomcat.apache.org/tomcat-8.0-doc/config/http.html">parámetros de configuración de Tomcat</a> como <em>proxyPort</em> y <em>scheme</em> que ajustan la información devuelta por los métodos <em>request.getServerPort()</em> y <em>request.getScheme()</em> y que nos servirá en caso de tener que generar URLs absolutas.</p>
<p>Arrancado los contenedores con el comando <code>docker-compose up</code> accediendo al servidor web veremos que el contenido proporcionado es el ofrecido por Tomcat, que con la configuración del ejemplo es la página de inicio de Tomcat. En las cabeceras de respuesta Nginx añade una, <em>Server</em>, indicando su versión.</p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/como-crear-un-proxy-inverso-entre-el-servidor-web-nginx-y-un-servidor-de-aplicaciones-java/images/nginx-tomcat_hu65abe743fc3bbc70de8b5763b0e01416_165612_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Nginx configurado como proxy inverso de un servidor de aplicaciones Tomcat"><img src="https://picodotdev.github.io/blog-bitix/2016/07/como-crear-un-proxy-inverso-entre-el-servidor-web-nginx-y-un-servidor-de-aplicaciones-java/images/nginx-tomcat_hu65abe743fc3bbc70de8b5763b0e01416_165612_300x200_fit_box_3.png" width="278" height="200" alt="Nginx configurado como proxy inverso de un servidor de aplicaciones Tomcat" title="Nginx configurado como proxy inverso de un servidor de aplicaciones Tomcat"  class="lozad "></a></p>
<figcaption>Nginx configurado como proxy inverso de un servidor de aplicaciones Tomcat</figcaption>
</figure>
</div>
<p>En la <a href="https://www.nginx.com/resources/admin-guide/reverse-proxy/">documentación sobre <em>reverse proxy</em> de Nginx</a> se explican algunas directivas más para pasar al servidor Tomcat la dirección IP del usuario usando cabeceras HTTP, en la configuración de Nginx usando <em>proxy_set_header</em>.</p>
<p>Nginx y Apache como <em>proxys</em> inversos cubren algunos casos en los que son suficientes, aquellos en los que la configuración como <em>proxys</em> no es reducida y estática ya que requieren reiniciar el servidor web. Para la computación en la nube y arquitecturas de microservicios <a href="https://picodotdev.github.io/blog-bitix/2021/09/el-proxy-inverso-traefik-caracteristicas-y-funcionalidades-que-ofrece/">el <em>proxy</em> inverso Traefik</a> está mejor adaptado ya que su configuración de enrutado es dinámica al tomarse de diferentes proveedores como <a href="https://www.consul.io/">Consul</a>, <a href="https://www.docker.com/">Docker</a> o <a href="https://kubernetes.io/">Kubernetes</a>.</p>
<div class="alert alert-secondary sourcecode">
    <img src="https://picodotdev.github.io/blog-bitix/assets/images/icons/terminal.svg" width="64" height="64" alt="Terminal" title="Terminal" class="lozad sourcecode-icon">
    <p>
            El <a href="https://github.com/picodotdev/blog-ejemplos/tree/master/NginxReverseProxy">código fuente completo del ejemplo</a> puedes descargarlo del repositorio de ejemplos de Blog Bitix alojado en GitHub y probarlo en tu equipo ejecutando siguiente comando:<br><code>docker-compose up</code></p>
</div>
<div class="reference">
    Referencia:<br>
<ul>
<li><a href="https://www.nginx.com/resources/admin-guide/reverse-proxy/">NGINX Reverse Proxy</a></li>
<li><a href="https://elblogdepicodev.blogspot.com.es/2011/02/unir-apache-httpd-y-tomcat-mediante-un.html">Unir Apache HTTPD y Tomcat mediante un reverse proxy</a></li>
</ul>
</div>
]]>
        </content>
        
            
                <category term="planeta-codigo"/>
            
                <category term="software"/>
            
                <category term="software-libre"/>
            
                <category term="web"/>
            
        
    </entry>
    <entry>
        <id>https://picodotdev.github.io/blog-bitix/2016/07/guia-basica-del-interprete-de-comandos-bash/</id>
        <title>Guía básica del intérprete de comandos Bash</title>
        <updated>2016-07-10T11:00:00+02:00</updated>
        <published>2016-07-10T11:00:00+02:00</published>
        <link rel="alternate" type="text/html" href="https://picodotdev.github.io/blog-bitix/2016/07/guia-basica-del-interprete-de-comandos-bash/"/>
        <author><name>picodotdev</name></author>
        <content type="html">
        <![CDATA[<p><strong>La línea de comandos sigue siendo una poderosa herramienta que aunque menos intuitiva que una interfaz gráfica permite hacer las tareas de forma más sencilla, directa y que se puede automatizar. Conocer las opciones del intérprete de comandos es básico para aprovechar su máximo potencial. Desde las combinaciones de teclas hasta los <em>scripts</em> o archivos de lotes. Tuberías y redirecciones, comandos con ejecución condicional, variables, interpolación de cadenas, <em>scrtips</em>, argumentos, funciones, <em>for</em>, <em>switch</em>, <em>if</em>, comparaciones, &hellip;</strong></p>]]>
        <![CDATA[<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/gnu.svg" width="200" height="196" alt="GNU" title="GNU"  class=""></p>
</div>
<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/linux.svg" width="200" height="232" alt="Linux" title="Linux"  class=""></p>
</div>
<p>Automatizar las tareas que realizamos permite ahorrarnos el tiempo de tener que hacerlo manualmente y evita los errores que se puede producir. En <a href="https://www.gnu.org/">GNU</a>/<a href="https://www.linux.com/">Linux</a> el uso de la terminal no es algo extraño y muchas tareas son realizadas más fácil y rápido con un comando que con un programa con interfaz gráfica, además tiene la ventaja de que puede automatizarse creando un <em>script</em> <a href="https://es.wikipedia.org/wiki/Bash">Bash</a>.</p>
<p>El intérprete de comandos Bash junto con la combinación de otros programas proporcionados por la parte GNU de los sistemas Linux presentes en la mayoría de las distribuciones por defecto es suficiente para automatizar la mayor parte de tareas que necesitemos conociendo que hacen <a href="https://picodotdev.github.io/blog-bitix/2020/04/50-plus-comandos-basicos-y-utiles-de-gnu-linux/">50 comandos útiles de línea de comandos</a>. Para aumentar la productividad es necesario aprender <a href="https://picodotdev.github.io/blog-bitix/2016/06/combinacion-de-teclas-para-copiar-y-pegar-en-la-terminal/">las combinaciones de teclas del intérprete Bash y del emulador de la terminal</a>.</p>
<div class="alert alert-warning tableofcontents">
    <h2>Contenido del artículo</h2>
    <toc></toc>
</div>
<h3 id="tuberías-y-redirecciones">Tuberías y redirecciones</h3>
<p>Al ejecutar un comando podemos querer encadenar la salida de un comando con la entrada de otro, mediante una tubería. Uno de los puntos de la filosofía de los programas de los sistemas Unix es que realicen una o pocas tareas pero que lo hagan muy bien. Usando varios programas especializados en una tarea podemos juntarlos como si fuese piezas de Lego para realizarla tarea compleja que necesitamos, encadenando la salida de un comando como la entrada del siguiente.</p>
<p>Una de las cosas buenas de Bash es que está presente por defecto en la mayoría de las distribuciones Linux y si no es este intérprete de comandos será otro similar por lo que no necesitamos instalar nada más adicional para usarlo. Aún así si necesitaremos algo más potente que Bash como lenguaje de programación podemos optar por un lenguaje de programación como <a href="https://www.python.org/">Python</a> para realizar los <em>scripts</em> aunque necesitaremos instalar su paquete y las dependencias que los <em>scripts</em> usen.</p>
<p>Por ejemplo, dada una lista de concursantes habilitados en un sorteo podemos obtener 3 ganadores de forma aleatoria con la combinación de los siguientes comandos. El comando <code>grep</code> permite aplicar una expresión regular a cada línea de un fichero que si la cumple es enviada a la salida, <code>shuf</code> reordena las líneas de forma aleatoria y con la opción <code>-n 3</code> emite las 3 primeras. Los comandos proporcionados por GNU en los sistemas Linux proporcionan multitud de comandos como estos muy útiles, combinándolos conseguimos tareas más capaces que lo que son los comandos individualmente.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ grep <span class="s2">&#34;^[^#]&#34;</span> sorteo.txt <span class="p">|</span> shuf -n <span class="m">3</span>&#10;&#10;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>sorteo-1.sh</span>
    </div>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/guia-basica-del-interprete-de-comandos-bash/images/sorteo_huc36cd599563a8744a46d8e6f869842e1_34801_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Sorteo implementado con dos comandos de GNU/Linux"><img src="https://picodotdev.github.io/blog-bitix/2016/07/guia-basica-del-interprete-de-comandos-bash/images/sorteo_huc36cd599563a8744a46d8e6f869842e1_34801_300x200_fit_box_3.png" width="300" height="193" alt="Sorteo implementado con dos comandos de GNU/Linux" title="Sorteo implementado con dos comandos de GNU/Linux"  class="lozad "></a></p>
<figcaption>Sorteo implementado con dos comandos de GNU/Linux</figcaption>
</figure>
</div>
<p>Por defecto la salida estándar de un comando es la terminal pero podemos redirigirla a un fichero con la opción <code>&gt;</code>.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ grep <span class="s2">&#34;^[^#]&#34;</span> sorteo.txt <span class="p">|</span> shuf -n <span class="m">3</span> &gt; ganadores.txt&#10;&#10;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>sorteo-2.sh</span>
    </div>
</div>
<p>Además de la salida estándar los programas tienen la salida de errores que podemos redirigir con <code>2&gt;</code>, si queremos redirigir la salida estándar y la de error podemos usar la redirección <code>&amp;&gt;</code>. Tanto la opción <code>&gt;</code> y <code>2&gt;</code> crean un fichero con la salida redirigida, si en vez de sobrescribir el contenido del archivo queremos añadirlo al final podemos hacer la redirección con <code>&gt;&gt;</code>.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ grep <span class="s2">&#34;^[^#]&#34;</span> sorteo.txt <span class="p">|</span> shuf -n <span class="m">3</span> &gt;&gt; ganadores.txt&#10;&#10;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>sorteo-3.sh</span>
    </div>
</div>
<h3 id="múltiples-comandos">Múltiples comandos</h3>
<p>Si necesitamos ejecutar dos comandos seguidos podemos introducirlos en la misma línea en vez de individualmente, ejecutar un comando si el anterior se ha ejecutado correctamente con <code>&amp;&amp;</code> o al contrario ejecutar un comando si el anterior ha fallado con <code>||</code>. Si en la ubicación de trabajo que estamos existe un directorio no se podrá crear otro con el mismo nombre, dependiendo de las opciones de encadenamiento según el resultado del comando anterior se ejecutará o no el siguiente comando.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span><span class="lnt">3&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ mkdir directorio <span class="p">;</span> mkdir directorio <span class="p">;</span> <span class="nb">echo</span> <span class="s2">&#34;Directorio creado&#34;</span>&#10;$ mkdir directorio <span class="o">&amp;&amp;</span> mkdir directorio <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">&#34;Directorio creado&#34;</span>&#10;$ mkdir directorio <span class="p">&amp;</span>&gt; /dev/null <span class="o">||</span> <span class="nb">echo</span> <span class="s2">&#34;La creación de directorio ha fallado&#34;</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>multiples-comandos.sh</span>
    </div>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/guia-basica-del-interprete-de-comandos-bash/images/multiples-comandos_hu446b606788cc2904d57fcc928566576f_38242_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Múltiples comandos en la misma línea"><img src="https://picodotdev.github.io/blog-bitix/2016/07/guia-basica-del-interprete-de-comandos-bash/images/multiples-comandos_hu446b606788cc2904d57fcc928566576f_38242_300x200_fit_box_3.png" width="300" height="131" alt="Múltiples comandos en la misma línea" title="Múltiples comandos en la misma línea"  class="lozad "></a></p>
<figcaption>Múltiples comandos en la misma línea</figcaption>
</figure>
</div>
<h3 id="variables-e-interpolación-de-cadenas">Variables e interpolación de cadenas</h3>
<p>Podemos definir variables locales en el <em>script</em> o exportarlas para que estén accesibles en otros procesos e incluso interpolarlas en cadenas de la siguiente forma:</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span><span class="lnt">3&#10;</span><span class="lnt">4&#10;</span><span class="lnt">5&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="nv">name</span><span class="o">=</span><span class="s2">&#34;picodotdev&#34;</span>&#10;<span class="nb">export</span> <span class="nv">name</span><span class="o">=</span><span class="s2">&#34;picodotdev&#34;</span>&#10;&#10;$ <span class="nb">echo</span> <span class="nv">$name</span>&#10;$ <span class="nb">echo</span> <span class="s2">&#34;Hola </span><span class="nv">$name</span><span class="s2">!&#34;</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>variables-1.sh</span>
    </div>
</div>
<p>También podemos interpolar la salida de un comando dentro de una cadena:</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ <span class="nb">echo</span> <span class="s2">&#34;Hola </span><span class="nv">$name</span><span class="s2">! a las `date`&#34;</span>&#10;&#10;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>variables-2.sh</span>
    </div>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/guia-basica-del-interprete-de-comandos-bash/images/variables_hu1324bce569120ddba446a5fc6e95a5ee_36485_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Interpolación en cadenas de variables y comandos"><img src="https://picodotdev.github.io/blog-bitix/2016/07/guia-basica-del-interprete-de-comandos-bash/images/variables_hu1324bce569120ddba446a5fc6e95a5ee_36485_300x200_fit_box_3.png" width="300" height="193" alt="Interpolación en cadenas de variables y comandos" title="Interpolación en cadenas de variables y comandos"  class="lozad "></a></p>
<figcaption>Interpolación en cadenas de variables y comandos</figcaption>
</figure>
</div>
<h3 id="invocaciones-de-comandos-anteriores">Invocaciones de comandos anteriores</h3>
<p>Con el comando <code>history</code> podemos ver el historial completo de comandos que hemos ejecutado con anterioridad. Al lado de cada comando vemos un identificador numérico que podemos usar para ejecutarlo de nuevo con <code>![identificador]</code>. Con el siguiente historial podemos ejecutar el comando con identificador 512 indicando una exclamación y el identificador, <code>!512</code>. Si queremos ejecutar el último comando introducido podemos usar la doble exclamación <code>!!</code>. Si queremos ejecutar el último comando completo de cierto comando podemos usar <code>![comando]</code> en vez de su identificador.</p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/guia-basica-del-interprete-de-comandos-bash/images/history_hudd076ba80f1bdd464ff3e6b38e8a63fc_62037_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Historial de comandos"><img src="https://picodotdev.github.io/blog-bitix/2016/07/guia-basica-del-interprete-de-comandos-bash/images/history_hudd076ba80f1bdd464ff3e6b38e8a63fc_62037_300x200_fit_box_3.png" width="300" height="193" alt="Historial de comandos" title="Historial de comandos"  class="lozad "></a></p>
<figcaption>Historial de comandos</figcaption>
</figure>
</div>
<p>Hay más <a href="http://www.softpanorama.org/Scripting/Shellorama/bash_command_history_reuse.shtml">formas de ejecutar comandos del historial</a>. Si quisieramos invocar un comando del historial cambiando algún argumento podemos hacer una búsqueda en orden inverso con <kbd>Ctrl+r</kbd>.</p>
<h3 id="scripts">Scripts</h3>
<p>Los <em>scritps</em> son archivos de texto con permisos de ejecución interpretados por Bash u otro intérprete que ejecuta los comandos del <em>script</em>, es la forma de automatizar varios comandos. Al inicio de los <em>scripts</em> se suele incluir el <a href="https://es.wikipedia.org/wiki/Shebang">shebang</a> donde se indica el programa encargado de interpretar el <em>script</em>, puede ser Bash o un programa escrito en un lenguaje de programación como <a href="https://www.python.org/">Python</a>. Se puede indicar de varias formas pero las preferidas son las siguientes:</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="cp">#!/usr/bin/env bash&#10;</span><span class="cp"></span><span class="c1">#!/usr/bin/env python</span>&#10;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>scripts-1.sh</span>
    </div>
</div>
<p>Una vez escrito el <em>script</em> antes de ejecutarlo debemos darle permisos de ejecución con el comando <code>chmod</code>:</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ chmod +x script.sh&#10;&#10;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>scripts-2.sh</span>
    </div>
</div>
<h3 id="argumentos">Argumentos</h3>
<p>Al igual que los comandos pueden recibir opciones y argumentos los <em>scripts</em> también, hacer uso de ellos son mediante las siguientes variables:</p>
<ul>
<li>$0: contiene nombre del <em>script</em>.</li>
<li>$1: primer argumento, $2 segundo argumento, &hellip;</li>
<li>$#: número de argumentos al invocar el <em>script</em>.</li>
<li>$*: todos los argumentos al invocar el <em>script</em>.</li>
<li>$?: valor del estado de salida del último comando ejecutado. Normalmente se usa <em>0</em> para los comandos ejecutados correctamente y <em>1</em> para los que han terminado incorrectamente.</li>
</ul>
<h3 id="funciones-_for_-_switch_-_if_-comparaciones">Funciones, <em>for</em>, <em>switch</em>, <em>if</em>, comparaciones</h3>
<p>En los <em>scripts</em> Bash se pueden definir funciones para reutilizar parte del <em>script</em>. Pueden incluir argumentos.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span><span class="lnt">12&#10;</span><span class="lnt">13&#10;</span><span class="lnt">14&#10;</span><span class="lnt">15&#10;</span><span class="lnt">16&#10;</span><span class="lnt">17&#10;</span><span class="lnt">18&#10;</span><span class="lnt">19&#10;</span><span class="lnt">20&#10;</span><span class="lnt">21&#10;</span><span class="lnt">22&#10;</span><span class="lnt">23&#10;</span><span class="lnt">24&#10;</span><span class="lnt">25&#10;</span><span class="lnt">26&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="k">function</span><span class="o">()</span> <span class="o">{</span>&#10;   <span class="nb">echo</span> <span class="s2">&#34;Hola </span><span class="nv">$1</span><span class="s2">!&#34;</span>&#10;<span class="o">}</span>&#10;&#10;<span class="k">function</span><span class="o">(</span><span class="s2">&#34;picodotdev&#34;</span><span class="o">)</span>&#10;&#10;Además los _scripts_ pueden incluir ciertas sentencias para controlar el flujo de ejecución del _script_ con expresiones condicionales, bucles y comparaciones.&#10;&#10;<span class="k">for</span> file in /etc/* <span class="k">do</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="nb">echo</span> <span class="nv">$file</span>&#10;<span class="k">done</span>&#10;<span class="o">{{</span>% gist <span class="nv">id</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="nv">file</span><span class="o">=</span><span class="s2">&#34;&#34;</span> %<span class="o">}}</span>&#10;&#10;<span class="k">while</span> <span class="nb">getopts</span> <span class="s2">&#34;:df&#34;</span> opt<span class="p">;</span> <span class="k">do</span>&#10;  <span class="k">case</span> <span class="nv">$opt</span> in&#10;	d<span class="o">)</span>&#10;  	<span class="nb">echo</span> <span class="s2">&#34;Opción «d» indicada&#34;</span>&#10;  	<span class="p">;;</span>&#10;	f<span class="o">)</span>&#10;  	<span class="nb">echo</span> <span class="s2">&#34;Opción «f» indicada&#34;</span>&#10;  	<span class="p">;;</span>&#10;	<span class="se">\?</span><span class="o">)</span>&#10;  	<span class="nb">echo</span> <span class="s2">&#34;Opción inválida: -</span><span class="nv">$OPTARG</span><span class="s2">&#34;</span>&#10;  	<span class="p">;;</span>&#10;  <span class="k">esac</span>&#10;<span class="k">done</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>funciones-1.sh</span>
    </div>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/guia-basica-del-interprete-de-comandos-bash/images/opciones_huc5bd046ba171874ce5c02dd19b2d7bdd_44239_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Opciones de un script"><img src="https://picodotdev.github.io/blog-bitix/2016/07/guia-basica-del-interprete-de-comandos-bash/images/opciones_huc5bd046ba171874ce5c02dd19b2d7bdd_44239_300x200_fit_box_3.png" width="300" height="193" alt="Opciones de un script" title="Opciones de un script"  class="lozad "></a></p>
<figcaption>Opciones de un script</figcaption>
</figure>
</div>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span><span class="lnt">3&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="k">if</span> <span class="o">[</span> -f <span class="nv">$1</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>&#10;	<span class="nb">echo</span> <span class="s2">&#34;El archivo existe.&#34;</span>&#10;<span class="k">fi</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>funciones-2.sh</span>
    </div>
</div>
<p>Los <em>scripts</em> de Bash suelen manejar ficheros y disponemos de una buena cantidad de opciones para comparar:</p>
<ul>
<li>
<p>[ -a FILE ]: verdadero si el fichero existe.</p>
</li>
<li>
<p>[ -d FILE ]: verdadero si el fichero existe y es un directorio.</p>
</li>
<li>
<p>[ -e FILE ]: verdadero si el fichero existe.</p>
</li>
<li>
<p>[ -f FILE ]: verdadero si el fichero existe y es un fichero regular.</p>
</li>
<li>
<p>[ -h FILE ]: verdadero si el fichero existe y es un enlace simbólico.</p>
</li>
<li>
<p>[ -r FILE ]: verdadero si el fichero existe y se puede leer.</p>
</li>
<li>
<p>[ -s FILE ]: verdadero si el fichero existe y su tamaño es mayor que cero.</p>
</li>
<li>
<p>[ -w FILE ]: verdadero si el fichero existe y se puede escribir.</p>
</li>
<li>
<p>[ -x FILE ]: verdadero si el fichero existe y se puede ejecutar.</p>
</li>
<li>
<p>[ -N FILE ]: verdadero si el fichero existe y ha sido modificado desde la última lectura.</p>
</li>
<li>
<p>[ FILE1 -nt FILE2 ]: verdadero si <em>FILE1</em> ha sido modificado más recientemente que <em>FILE2</em> o si <em>FILE1</em> existe y <em>FILE2</em> no.</p>
</li>
<li>
<p>[ FILE1 -ot FILE2 ]: verdadero si <em>FILE2</em> ha sido modificado más recientemente que <em>FILE1</em> o si <em>FILE2</em> existe y <em>FILE1</em> no.</p>
</li>
<li>
<p>[ FILE1 -ef FILE2 ]: verdadero si <em>FILE1</em> y <em>FILE2</em> se refieren al mismo dispositivo y número de inodo.</p>
</li>
</ul>
<p>Y otros menos comunes:</p>
<ul>
<li>[ -S FILE ]: verdadero si el fichero existe y es un <em>socket</em>.</li>
<li>[ -b FILE ]: verdadero si el fichero existe y es un fichero especial de bloques.</li>
<li>[ -c FILE ]: verdadero si el fichero existe y es un fichero especial de caracteres.</li>
<li>[ -g FILE ]: verdadero si el fichero existe y su bit <em>SGID</em> está establecido.</li>
<li>[ -k FILE ]: verdadero si el fichero existe y su bit <em>sticky</em> está establecido.</li>
<li>[ -p FILE ]: verdadero si el fichero existe y es una tubería con nombre (FIFO).</li>
<li>[ -t FD ]: verdadero si el descriptor de fichero está abierto y refiere a una terminal.</li>
<li>[ -u FILE ]: verdadero si el fichero existe y su bit <em>SUID</em> está establecido.</li>
<li>[ -O FILE ]: verdadero si el fichero existe y el ID del usuario efectivo es su propietario.</li>
<li>[ -G FILE ]: verdadero si el fichero existe y el ID del grupo efectivo es su propietario.</li>
<li>[ -L FILE ]: verdadero si el fichero existe y es un enlace simbólico.</li>
</ul>
<p>Y algunos otros:</p>
<ul>
<li>[ -o OPTIONNAME ]: verdadero si la copión <em>OPTIONNAME</em> está activa.</li>
<li>[ -z STRING ]: verdadero si la longitud de <em>STRING</em> es cero.</li>
<li>[ -n STRING ] o [ STRING ]: verdadero si la longitud de <em>STRING</em> no es cero.</li>
<li>[ STRING1 == STRING2 ]: verdadero si las cadenas son iguales.</li>
<li>[ STRING1 != STRING2 ]: verdadero si las cadenas no son iguales.</li>
<li>[ STRING1 &lt; STRING2 ]: verdadero si léxicamente <em>STRING1</em> se ordena antes que <em>STRING2</em> en el <em>locale</em> actual.</li>
<li>[ STRING1 &gt; STRING2 ]: verdadero si léxicamente <em>STRING1</em> se ordena después que <em>STRING2</em> en el <em>locale</em> actual.</li>
<li>[ ARG1 OP ARG2 ]: donde <em>OP</em> es un operador de entre <em>-eq</em>, <em>-ne</em>, <em>-lt</em>, <em>-le</em>, <em>-gt</em> o <em>-ge</em>. Estas operaciones aritméticas binarias retornan verdadero si <em>ARG1</em> es igual a, no igual a, menor que, menor que o igual, mayor que o mayor que o igual que <em>ARG2</em>, respectivamente. <em>ARG1</em> y <em>ARG2</em> son valores enteros.</li>
</ul>
<p>Las expresiones anteriores se pueden combinar:</p>
<ul>
<li>[ ! EXPR ]: verdadero si <em>EXPR</em> es false.</li>
<li>[ ( EXPR ) ]: retorna el valor de <em>EXPR</em>, puede usarse para cambiar la precedencia de operadores.</li>
<li>[ EXPR1 -a EXPR2 ]: verdadero si ambas <em>EXPR1</em> y <em>EXPR2</em> son verdadero, operador <em>and</em>.</li>
<li>[ EXPR1 -o EXPR2 ]: verdadero si alguna de <em>EXPR1</em> y <em>EXPR2</em> son verdadero, operador <em>or</em>.</li>
</ul>
<h3 id="control-de-trabajos">Control de trabajos</h3>
<p>El comando <code>jobs</code> obtenemos una lista de trabajos que se está ejecutando junto con su identificador y estado, con la combinación de teclas <kbd>Ctrl+z</kbd> dejamos el proceso actual detenido y en segundo plano, con <code>fg</code> lo devolvemos a primer plano y si estaba detenido se continua su ejecución, con <code>bg</code> si estaba detenido continua su ejecución en segundo plano.</p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/guia-basica-del-interprete-de-comandos-bash/images/trabajos_hu237159f04275eed2c9a1df42001006ea_76447_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Trabajos en primer y segundo plano"><img src="https://picodotdev.github.io/blog-bitix/2016/07/guia-basica-del-interprete-de-comandos-bash/images/trabajos_hu237159f04275eed2c9a1df42001006ea_76447_300x200_fit_box_3.png" width="289" height="200" alt="Trabajos en primer y segundo plano" title="Trabajos en primer y segundo plano"  class="lozad "></a></p>
<figcaption>Trabajos en primer y segundo plano</figcaption>
</figure>
</div>
<p>Esta guía es parte de un tema de los explicados en el completo libro sobre la administración sobre sistemas Unix, <a href="https://amzn.to/29vctVP">UNIX and Linux System Administration Handbook</a>. Un libro con cantidad de temas para conocer más en detalle nuestros sistemas basados en la filosofía Unix. Casi 1300 páginas de documentación con información básica y detallada que deberíamos obligarnos a conocer. Redes, seguridad, virtualización, hospedaje web, copias de seguridad, procesos periódicos, instalación de software, control de procesos y muchos temas más. Otros buenos documentos son <a href="http://www.tldp.org/LDP/abs/html/index.html">Advanced Bash-Scripting Guide</a> y
el siguiente <a href="http://bash.cyberciti.biz/guide/Main_Page">manual de Bash</a>.</p>
<div class="media media-amazon">
  <iframe style="width:120px;height:240px;" width="120" height="240" scrolling="no" frameborder="0" src="https://rcm-eu.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=blobit-21&amp;language=es_ES&amp;o=30&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=as_ss_li_til&amp;asins=0131480057&amp;linkId=28302f39b86c5d07ee3db2bc5752c2ed&amp;internal=1" title="Amazon" class="lozad"></iframe>
</div>
<div class="reference">
    Referencia:<br>
<ul>
<li><a href="http://www.howtogeek.com/howto/44997/how-to-use-bash-history-to-improve-your-command-line-productivity/">How To Use Bash History to Improve Your Command-Line Productivity</a></li>
</ul>
</div>
]]>
        </content>
        
            
                <category term="gnu-linux"/>
            
                <category term="planeta-codigo"/>
            
                <category term="software-libre"/>
            
        
    </entry>
    <entry>
        <id>https://picodotdev.github.io/blog-bitix/2016/07/configurar-nginx-como-balanceador-de-carga/</id>
        <title>Configurar Nginx como balanceador de carga</title>
        <updated>2016-07-09T11:00:00+02:00</updated>
        <published>2016-07-08T17:00:00+02:00</published>
        <link rel="alternate" type="text/html" href="https://picodotdev.github.io/blog-bitix/2016/07/configurar-nginx-como-balanceador-de-carga/"/>
        <author><name>picodotdev</name></author>
        <content type="html">
        <![CDATA[<p><strong>Para escalar horizontalmente los servidores de aplicaciones, aumentar el rendimiento, disminuir la latencia, conseguir tolerancia a fallos y aumentar la disponibilidad podemos usar el servidor web Nginx como balanceador de carga entre varios servidores de aplicaciones. En este ejemplo muestro la configuración necesaria para añadir la funcionalidad de balanceador de carga a Nginx entre varios servidores de aplicaciones Tomcat usando además Docker.</strong></p>]]>
        <![CDATA[<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/nginx.svg" width="300" height="64" alt="Nginx" title="Nginx"  class=""></p>
</div>
<p>Un balanceador de carga distribuye las peticiones que llegan al servidor entre varios servidores para que las atiendan consiguiendo optimizar el uso de los recursos, aumentar el número de peticiones atendidas por unidad de tiempo, reducir la latencia y proporcionar tolerancia a fallos. Escalar un servidor que deba procesar un gran número de peticiones llegado un límite es más barato escalar horizontalmente añadiendo más servidores que escalar verticalmente usando servidores más potentes.</p>
<p>Distribuir las peticiones ha de hacerse eficientemente para que un servidor no reciba todas las peticiones pesadas y se sature mientras hay servidores que tienen poca carga. Usando varios servidores para atender las peticiones evita que haya un único punto de fallo en la aplicación proporcionando tolerancia a fallos, si un servidor sufre un fallo el resto de servidores se encargarán de atender las peticiones. Una mejor tolerancia a fallos aumentará la disponibilidad del servicio sin que haya caídas de servicio.</p>
<p>Hay soluciones específicas para balancear la carga como <a href="https://www.haproxy.org/">HAProxy</a> pero para los casos sencillos que son los más habituales y para no añadir una pieza más a la arquitectura de la aplicación <a href="https://nginx.org/">Nginx</a> es capaz de hacer las funciones de balanceo de carga entre varios servidores de aplicaciones.</p>
<p>Hay tres estrategias para balancear o distribuir la carga:</p>
<ul>
<li><em>round-robin</em>: las peticiones son distribuidas entre los servidores de forma cíclica. Cabe la posibilidad de que las peticiones más pesadas sean procesadas por el mismo servidor, distribuye las peticiones de forma ecuánime pero la carga no.</li>
<li><em>least-connected</em>: la siguiente petición es atendida por el servidor con menos conexiones activas.</li>
<li><em>ip-hash</em>: se selecciona el servidor que atenderá la petición en base a algún dato como la dirección IP, de esta forma todas las peticiones de un usuario son atendidas por el mismo servidor.</li>
</ul>
<p>Esta es la configuración básica con la estrategia <em>round-robin</em>. Los servidores balanceados se definen con la directiva <em>upstream</em> a los que se hace de <em>proxy</em> inverso con la directiva <em>proxy_pass</em>.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span><span class="lnt">12&#10;</span><span class="lnt">13&#10;</span><span class="lnt">14&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="k">upstream</span> <span class="s">app</span> <span class="p">{</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">server</span> <span class="n">app1</span><span class="p">:</span><span class="mi">8080</span><span class="p">;</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">server</span> <span class="n">app2</span><span class="p">:</span><span class="mi">8080</span><span class="p">;</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">server</span> <span class="n">app3</span><span class="p">:</span><span class="mi">8080</span><span class="p">;</span>&#10;<span class="p">}</span>&#10;&#10;<span class="k">server</span> <span class="p">{</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>&#10;&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">proxy_pass</span> <span class="s">http://app</span><span class="p">;</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">add_header</span> <span class="s">X-Upstream</span> <span class="nv">$upstream_addr</span><span class="p">;</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">}</span>&#10;<span class="p">}</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>nginx.conf</span>
    </div>
</div>
<p>Para usar la estrategia <em>least-connected</em> hay que indicar la directiva <em>least_conn</em> en la directiva <em>upstream</em>.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span><span class="lnt">3&#10;</span><span class="lnt">4&#10;</span><span class="lnt">5&#10;</span><span class="lnt">6&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext">upstream app {&#10;&nbsp;&nbsp;&nbsp;&nbsp;least_conn;&#10;&nbsp;&nbsp;&nbsp;&nbsp;server app1:8080;&#10;&nbsp;&nbsp;&nbsp;&nbsp;server app2:8080;&#10;&nbsp;&nbsp;&nbsp;&nbsp;server app3:8080;&#10;}</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>nginx-least_conn.conf</span>
    </div>
</div>
<p>Hay que tener en cuenta que en las estrategias <em>round-robin</em> y <em>least-connected</em> cada petición probablemente sea atendida por un servidor diferente de modo que si los servidores no comparten las sesiones se producirán comportamientos erráticos. Usando la estrategia <em>ip_hash</em> se usará la dirección IP para redirigir todas las peticiones al mismo servidor que se conoce como <em>sticky session</em>.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span><span class="lnt">3&#10;</span><span class="lnt">4&#10;</span><span class="lnt">5&#10;</span><span class="lnt">6&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext">upstream app {&#10;&nbsp;&nbsp;&nbsp;&nbsp;ip_hash;&#10;&nbsp;&nbsp;&nbsp;&nbsp;server app1:8080;&#10;&nbsp;&nbsp;&nbsp;&nbsp;server app2:8080;&#10;&nbsp;&nbsp;&nbsp;&nbsp;server app3:8080;&#10;}</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>nginx-ip_hash.conf</span>
    </div>
</div>
<p>Para que los servidores compartan la sesión y evitar usar <em>sticky session</em> podemos <a href="https://picodotdev.github.io/blog-bitix/2015/03/datos-de-sesion-externalizados-con-spring-session/">usar Redis como sistema de información para guardar las sesiones de los servidores</a>, si un servidor de aplicaciones deja de funcionar las sesiones que mantuviese no se perderán y las peticiones podrán ser atendida por cualquier servidor. Si hay un servidor que queremos procese más peticiones porque tiene más capacidad podemos dar más peso a este. En esta configuración de cada 5 peticiones 3 serán atendidas por el servidor <em>app1</em>, 1 por el <em>app2</em> y otra por <em>app3</em>.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span><span class="lnt">3&#10;</span><span class="lnt">4&#10;</span><span class="lnt">5&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext">upstream app {&#10;&nbsp;&nbsp;&nbsp;&nbsp;server app1:8080 weight=3;&#10;&nbsp;&nbsp;&nbsp;&nbsp;server app2:8080;&#10;&nbsp;&nbsp;&nbsp;&nbsp;server app3:8080;&#10;}</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>nginx-weight.conf</span>
    </div>
</div>
<p>Cuando un servidor falla al servir una petición Nginx lo marca como en estado erróneo y deja de enviarle peticiones, las comprobaciones de salud se hacen de forma pasiva según el resultado de las peticiones que se envían. Con <em>max_fails</em> se establece el máximo número de fallos antes de considerar un servidor con estado erróneo, tiene un valor por defecto de 1. Con <em>fail_timeout</em> se establece el tiempo que un servidor se considera que está en estado erróneo antes de enviar una nueva petición, si enviada una nueva petición responde correctamente se vuelve a considerar en estado correcto. Con la directiva <em>health_check</em> se puede configurar las comprobaciones de estado que hace Nginx para determinar si el servidor de aplicaciones está funcionando correctamente.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span><span class="lnt">3&#10;</span><span class="lnt">4&#10;</span><span class="lnt">5&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext">upstream app {&#10;&nbsp;&nbsp;&nbsp;&nbsp;server app1:8080 max_fails=5 fail_timeout=30s;&#10;&nbsp;&nbsp;&nbsp;&nbsp;server app2:8080 max_fails=1 fail_timeout=60s;&#10;&nbsp;&nbsp;&nbsp;&nbsp;server app3:8080;&#10;}</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>nginx-misc.conf</span>
    </div>
</div>
<p>Si queremos que el cliente conozca que servidor atendió la petición podemos añadir la <a href="http://nginx.org/en/docs/http/ngx_http_headers_module.html#add_header">directiva <em>add_header</em></a> usando una de las <a href="http://nginx.org/en/docs/http/ngx_http_upstream_module.html#variables">variables añadidas por el módulo  <em>ngx_http_upstream</em></a>, nos servirá para depurar la aplicación en tiempo de desarrollo.</p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/configurar-nginx-como-balanceador-de-carga/images/nginx-load-balancer-1_hu01e6c56ef6a522eb9411df6425aed444_172831_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Servidor balanceado 172.17.0.2:8080"><img src="https://picodotdev.github.io/blog-bitix/2016/07/configurar-nginx-como-balanceador-de-carga/images/nginx-load-balancer-1_hu01e6c56ef6a522eb9411df6425aed444_172831_300x200_fit_box_3.png" width="224" height="200" alt="Servidor balanceado 172.17.0.2:8080" title="Servidor balanceado 172.17.0.2:8080"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/07/configurar-nginx-como-balanceador-de-carga/images/nginx-load-balancer-2_hu01e6c56ef6a522eb9411df6425aed444_173087_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Servidor balanceado 172.17.0.3:8080"><img src="https://picodotdev.github.io/blog-bitix/2016/07/configurar-nginx-como-balanceador-de-carga/images/nginx-load-balancer-2_hu01e6c56ef6a522eb9411df6425aed444_173087_300x200_fit_box_3.png" width="224" height="200" alt="Servidor balanceado 172.17.0.3:8080" title="Servidor balanceado 172.17.0.3:8080"  class="lozad "></a></p>
</figure>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/configurar-nginx-como-balanceador-de-carga/images/nginx-load-balancer-3_hu01e6c56ef6a522eb9411df6425aed444_172434_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Servidor balanceado 172.17.0.4:8080"><img src="https://picodotdev.github.io/blog-bitix/2016/07/configurar-nginx-como-balanceador-de-carga/images/nginx-load-balancer-3_hu01e6c56ef6a522eb9411df6425aed444_172434_300x200_fit_box_3.png" width="224" height="200" alt="Servidor balanceado 172.17.0.4:8080" title="Servidor balanceado 172.17.0.4:8080"  class="lozad "></a></p>
<figcaption>Nginx balanceando la carga entre 3 servidores de aplicaciones Tomcat</figcaption>
</figure>
</div>
<p>En el ejemplo de configuración usaré <a href="https://www.docker.com/">Docker</a> para crear un servidor web Nginx que haga de balanceador de carga entre tres servidores de aplicaciones Tomcat. Con Docker hacer esta prueba es mucho más sencilla que instalar tres Tomcats y un servidor Nginx a través de los paquetes del sistema o descargando binarios, puedes leer los <a href="https://picodotdev.github.io/blog-bitix/series/docker/">artículos de la serie Docker</a> que he escrito para conocer como usarlo y que ofrece esta útil herramienta. El archivo de <em>docker-compose.yml</em> completo es el siguiente:</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span><span class="lnt">12&#10;</span><span class="lnt">13&#10;</span><span class="lnt">14&#10;</span><span class="lnt">15&#10;</span><span class="lnt">16&#10;</span><span class="lnt">17&#10;</span><span class="lnt">18&#10;</span><span class="lnt">19&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">app1</span><span class="p">:</span><span class="w">&#10;</span><span class="w">  </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">tomcat</span><span class="w">&#10;</span><span class="w">&#10;</span><span class="w"></span><span class="nt">app2</span><span class="p">:</span><span class="w">&#10;</span><span class="w">  </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">tomcat</span><span class="w">&#10;</span><span class="w">&#10;</span><span class="w"></span><span class="nt">app3</span><span class="p">:</span><span class="w">&#10;</span><span class="w">  </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">tomcat</span><span class="w">&#10;</span><span class="w">&#10;</span><span class="w"></span><span class="nt">nginx</span><span class="p">:</span><span class="w">&#10;</span><span class="w">  </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">nginx:alpine</span><span class="w">&#10;</span><span class="w">  </span><span class="nt">volumes</span><span class="p">:</span><span class="w">&#10;</span><span class="w">&nbsp;&nbsp;&nbsp;&nbsp;</span>- <span class="l">./nginx.conf:/etc/nginx/conf.d/default.conf:ro</span><span class="w">&#10;</span><span class="w">  </span><span class="nt">links</span><span class="p">:</span><span class="w">&#10;</span><span class="w">&nbsp;&nbsp;&nbsp;&nbsp;</span>- <span class="l">app1</span><span class="w">&#10;</span><span class="w">&nbsp;&nbsp;&nbsp;&nbsp;</span>- <span class="l">app2</span><span class="w">&#10;</span><span class="w">&nbsp;&nbsp;&nbsp;&nbsp;</span>- <span class="l">app3</span><span class="w">&#10;</span><span class="w">  </span><span class="nt">ports</span><span class="p">:</span><span class="w">&#10;</span><span class="w">&nbsp;&nbsp;&nbsp;&nbsp;</span>- <span class="s2">&#34;80:80&#34;</span><span class="w">&#10;</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>docker-compose.yml</span>
    </div>
</div>
<div class="alert alert-secondary sourcecode">
    <img src="https://picodotdev.github.io/blog-bitix/assets/images/icons/terminal.svg" width="64" height="64" alt="Terminal" title="Terminal" class="lozad sourcecode-icon">
    <p>
            El <a href="https://github.com/picodotdev/blog-ejemplos/tree/master/NginxLoadBalancer">código fuente completo del ejemplo</a> puedes descargarlo del repositorio de ejemplos de Blog Bitix alojado en GitHub y probarlo en tu equipo ejecutando siguiente comando:<br><code>docker-compose up</code></p>
</div>
<div class="reference">
    Referencia:<br>
<ul>
<li><a href="http://nginx.org/en/docs/http/load_balancing.html">Using NGINX as HTTP load balancer</a></li>
<li><a href="https://www.nginx.com/blog/load-balancing-with-nginx-plus/">Load Balancing with NGINX and NGINX Plus, Part 1</a></li>
<li><a href="https://www.nginx.com/blog/load-balancing-with-nginx-plus-part2/">Load Balancing with NGINX and NGINX Plus, Part 2</a></li>
<li><a href="https://www.nginx.com/resources/admin-guide/load-balancer/">NGINX Load Balancing - HTTP Load Balancer</a></li>
</ul>
</div>
]]>
        </content>
        
            
                <category term="planeta-codigo"/>
            
                <category term="software"/>
            
                <category term="software-libre"/>
            
                <category term="web"/>
            
        
    </entry>
    <entry>
        <id>https://picodotdev.github.io/blog-bitix/2016/07/como-optimizar-un-sitio-web-con-compresion-gzip-en-nginx-y-apache-httpd/</id>
        <title>Cómo optimizar un sitio web con compresión GZIP en Nginx y Apache HTTPD</title>
        <updated>2016-07-02T12:30:00+02:00</updated>
        <published>2016-07-02T12:30:00+02:00</published>
        <link rel="alternate" type="text/html" href="https://picodotdev.github.io/blog-bitix/2016/07/como-optimizar-un-sitio-web-con-compresion-gzip-en-nginx-y-apache-httpd/"/>
        <author><name>picodotdev</name></author>
        <content type="html">
        <![CDATA[<p><strong>Comprimir el contenido es de utilidad para aquellos usuarios a los que se les factura por los datos transmitidos o tienen límites de transferencia en sus contratos con los proveedores de banda ancha o red móvil. Modificando la configuración del servidor web que usemos haremos que nuestra página o aplicación web comprima el contenido que envía a los navegadores de los usuarios reduciendo los datos transferidos y optimizando el sitio web.</strong></p>]]>
        <![CDATA[<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/nginx.svg" width="300" height="64" alt="Nginx" title="Nginx"  class=""></p>
</div>
<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/apache.svg" width="150" height="264" alt="Apache HTTPD" title="Apache HTTPD"  class=""></p>
</div>
<p>Con las velocidades de transferencia que proporciona la fibra, el ADSL incluso el 4G o 3G de los móviles transmitir el contenido de una web desde el servidor al cliente ya no es el factor más determinante en el tiempo de carga de una página, lo es más la latencia de la red y el establecimiento de múltiples conexiones. Aún así hay usuarios que por una red de baja calidad o que esté saturada pueden tener tasas de transferencia bajas o puede que al usuario se le facture por la cantidad de datos que transmite. Por estos motivos aún hoy es buena idea activar en el servidor la compresión GZIP para que los datos transmitidos se compriman y reduzcan de forma significativa. La compresión GZIP es una optimización que podemos realizar para cualquier página web. Para mejorar la latencia en el establecimiento de conexiones es aconsejable <a href="https://picodotdev.github.io/blog-bitix/2016/02/configurar-http-2-en-nginx-apache-httpd-wildfly-o-jetty/">configurar HTTP/2 en el servidor web</a> para mejorar la velocidad de carga de la página.</p>
<p>Dependiendo del servidor web la configuración que deberemos añadir será diferente, en este artículo mostraré la configuración a usar para dos de los servidores web más populares en internet, que son <a href="https://nginx.org/">Nginx</a> y <a href="https://httpd.apache.org/">Apache HTTPD</a>.</p>
<h3 id="nginx">Nginx</h3>
<p>Usando varias <a href="http://nginx.org/en/docs/http/ngx_http_gzip_module.html">directivas de Nginx para la compresión</a> la activamos, establecemos el nivel de compresión, el tamaño de los <em>buffers</em> dedicados a la compresión y finalmente los <em>mimetypes</em> de los archivos que queremos sean comprimidos antes de enviarse al cliente (el texto plano, contenido CSS, JSON, XML, RSS y JavaScript). El <em>mimetype</em> <em>text/html</em> no hace falta indicarlo porque siempre está activo y para los formatos de archivos que ya están comprimidos es innecesario como fotos o vídeos.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span><span class="lnt">12&#10;</span><span class="lnt">13&#10;</span><span class="lnt">14&#10;</span><span class="lnt">15&#10;</span><span class="lnt">16&#10;</span><span class="lnt">17&#10;</span><span class="lnt">18&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="k">server</span> <span class="p">{</span>&#10;  <span class="kn">listen</span>&nbsp;&nbsp;&nbsp;&nbsp;   <span class="mi">80</span><span class="p">;</span>&#10;  <span class="kn">server_name</span>  <span class="s">localhost</span><span class="p">;</span>&#10;&#10;  <span class="kn">gzip</span> <span class="no">on</span><span class="p">;</span>&#10;  <span class="kn">gzip_disable</span> <span class="s">&#34;msie6&#34;</span><span class="p">;</span>&#10;  <span class="kn">gzip_vary</span> <span class="no">on</span><span class="p">;</span>&#10;  <span class="kn">gzip_proxied</span> <span class="s">any</span><span class="p">;</span>&#10;  <span class="kn">gzip_comp_level</span> <span class="mi">6</span><span class="p">;</span>&#10;  <span class="kn">gzip_buffers</span> <span class="mi">16</span> <span class="mi">8k</span><span class="p">;</span>&#10;  <span class="kn">gzip_http_version</span> <span class="mi">1</span><span class="s">.1</span><span class="p">;</span>&#10;  <span class="kn">gzip_types</span> <span class="s">text/plain</span> <span class="s">text/css</span> <span class="s">application/json</span> <span class="s">application/x-javascript</span> <span class="s">text/xml</span> <span class="s">application/xml</span> <span class="s">application/xml+rss</span> <span class="s">text/javascript</span><span class="p">;</span>&#10;&#10;  <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">root</span> <span class="s">/usr/share/nginx/html</span><span class="p">;</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">index</span> <span class="s">index.html</span> <span class="s">index.htm</span><span class="p">;</span>&#10;  <span class="p">}</span>&#10;<span class="p">}</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>nginx.conf</span>
    </div>
</div>
<p>Para probarlo usaré un contenedor de <a href="https://www.docker.com/">Docker</a> en el que personalizaré la configuración y usaré mi propia bitácora como página web a servir. Para conocer Docker puedes consultar otra <a href="https://picodotdev.github.io/blog-bitix/series/docker/">serie de artículos sobre Docker</a> dedicados a esta tecnología de contenedores. Escrito el archivo de configuración, el contenedor se inicia con:</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ docker run --rm --name nginx -p 80:80 -v <span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/nginx.conf:/etc/nginx/conf.d/default.conf:ro -v /home/picodotdev/Software/personal/git/blog-bitix/public:/usr/share/nginx/html:ro nginx&#10;&#10;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>docker-nginx.sh</span>
    </div>
</div>
<p>En la siguiente captura se aprecia que Nginx devuelve la cabecera de respuesta <em>Content-Encoding: gzip</em> indicando que el contenido ha sido comprimido antes de su transmisión por la red. Haciendo que Nginx haga de servidor web para mi propia bitácora se pueden apreciar la significativa diferencia en kilobytes transmitidos entre el tamaño que tienen y lo transferido para algunos recursos. Por ejemplo, el HTML de la página de inicio tiene un tamaño sin comprimir de 34,11 KB y comprimido un tamaño mucho menor 8,38 KB, una diferencia de 25,73 KB aproximadamente un ratio de compresión del 75%. Para el recurso <em>bootstrap.min.css</em> que ya está minificado eliminando caracteres innecesarios es aún más significativo de 118,43 KB a 23,36, 95,04 KB menos un 80% de reducción.</p>
<p>Unos pocos kilobytes no son mucho para un único recurso pero si tenemos en cuenta que una página tiene varias docenas y hacemos una multiplicación por cada acceso a una página la cantidad de datos ahorrados en la transferencia es notable.</p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/como-optimizar-un-sitio-web-con-compresion-gzip-en-nginx-y-apache-httpd/images/nginx-no-gzip_hu8ae7e2af929b6fa0ee8b79777cd81846_276701_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Nginx configurado sin compresión GZIP"><img src="https://picodotdev.github.io/blog-bitix/2016/07/como-optimizar-un-sitio-web-con-compresion-gzip-en-nginx-y-apache-httpd/images/nginx-no-gzip_hu8ae7e2af929b6fa0ee8b79777cd81846_276701_300x200_fit_box_3.png" width="300" height="148" alt="Nginx configurado sin compresión GZIP" title="Nginx configurado sin compresión GZIP"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/07/como-optimizar-un-sitio-web-con-compresion-gzip-en-nginx-y-apache-httpd/images/nginx-gzip_hu6d61388e9a20bef52da27cbc4b0fc482_222425_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Nginx configurado con compresión GZIP"><img src="https://picodotdev.github.io/blog-bitix/2016/07/como-optimizar-un-sitio-web-con-compresion-gzip-en-nginx-y-apache-httpd/images/nginx-gzip_hu6d61388e9a20bef52da27cbc4b0fc482_222425_300x200_fit_box_3.png" width="300" height="148" alt="Nginx configurado con compresión GZIP" title="Nginx configurado con compresión GZIP"  class="lozad "></a></p>
<figcaption>Nginx configurado sin y con compresión GZIP</figcaption>
</figure>
</div>
<h3 id="apache-httpd">Apache HTTPD</h3>
<p>Activado el módulo para realizar la compresión al igual que el caso de Nginx podemos establecer la cantidad de memoria reservada para la compresión, el nivel de compresión y los <em>mimetypes</em> del contenido a comprimir. Con las <a href="http://httpd.apache.org/docs/current/mod/mod_deflate.html">directivas adicionales de la documentación</a> se puede personalizar aún más el proceso de compresión.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-apache" data-lang="apache"><span class="nb">LoadModule</span> deflate_module modules/mod_deflate.so&#10;...&#10;<span class="nt">&lt;VirtualHost</span> <span class="s">*:80</span><span class="nt">&gt;</span>&#10;   <span class="nb">ServerName</span> localhost&#10;   <span class="nb">DocumentRoot</span> <span class="sx">/usr/local/apache2/htdocs</span>&#10;&#10;   <span class="nb">SetOutputFilter</span> DEFLATE&#10;   <span class="nb">DeflateBufferSize</span> <span class="m">8096</span>&#10;   <span class="nb">DeflateCompressionLevel</span> <span class="m">6</span>&#10;   <span class="nb">AddOutputFilterByType</span> DEFLATE text/html text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript&#10;<span class="nt">&lt;/VirtualHost&gt;</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>httpd.conf</span>
    </div>
</div>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ docker run --rm --name apache -p 80:80 -v <span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/httpd.conf:/usr/local/apache2/conf/httpd.conf:ro -v /home/picodotdev/Software/personal/git/blog-bitix/public:/usr/local/apache2/htdocs:ro httpd&#10;&#10;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>docker-httpd.sh</span>
    </div>
</div>
<p>Vemos una reducción en la transferencia similar a la conseguida en Nginx. En Apache el recurso a servir ha de tener cierto tamaño siendo de unos pocos bytes opta por servirlo sin comprimir ya que considerará que no producirá un ahorro significativo.</p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/como-optimizar-un-sitio-web-con-compresion-gzip-en-nginx-y-apache-httpd/images/apache-httpd-no-gzip_hu8937ef9644c64bbe4571ad5847c2a7f4_257645_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Apache HTTPD configurado sin compresión GZIP"><img src="https://picodotdev.github.io/blog-bitix/2016/07/como-optimizar-un-sitio-web-con-compresion-gzip-en-nginx-y-apache-httpd/images/apache-httpd-no-gzip_hu8937ef9644c64bbe4571ad5847c2a7f4_257645_300x200_fit_box_3.png" width="300" height="156" alt="Apache HTTPD configurado sin compresión GZIP" title="Apache HTTPD configurado sin compresión GZIP"  class="lozad "></a>

<a href="https://picodotdev.github.io/blog-bitix/2016/07/como-optimizar-un-sitio-web-con-compresion-gzip-en-nginx-y-apache-httpd/images/apache-httpd-gzip_huea7aac62a38b9e8894414b3f64502c54_273448_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Apache HTTPD configurado con compresión GZIP"><img src="https://picodotdev.github.io/blog-bitix/2016/07/como-optimizar-un-sitio-web-con-compresion-gzip-en-nginx-y-apache-httpd/images/apache-httpd-gzip_huea7aac62a38b9e8894414b3f64502c54_273448_300x200_fit_box_3.png" width="300" height="156" alt="Apache HTTPD configurado con compresión GZIP" title="Apache HTTPD configurado con compresión GZIP"  class="lozad "></a></p>
<figcaption>Apache HTTPD configurado sin y con compresión GZIP</figcaption>
</figure>
</div>
<p>La compresión se hace en cada petición que se hace al servidor que con los avanzados procesadores actuales con eficientes instrucciones específicas para la tarea implementadas en el hardware salvo un tráfico muy elevado no tiene por que notarse en gran medida el procesado de cada recurso. Si el tráfico fuese elevado y la carga de compresión se notase Nginx y Apache ofrecen la posibilidad de <a href="http://nginx.org/en/docs/http/ngx_http_gzip_static_module.html">precomprimir los recursos</a> y de forma similar <a href="http://httpd.apache.org/docs/current/mod/mod_deflate.html#precompressed">precomprimir los recursos en apache</a>.</p>
<p>La compresión es otra de las configuraciones básicas aconsejable hacer en un servidor web junto con:</p>
<ul>
<li>Añadir cifrado y autenticación con TLS/SSL.</li>
<li>Añadir el soporte para el protocolo HTTP/2 que ya incluyen los navegadores.</li>
<li>Redirigir el tráfico del dominio raíz al subdominio www.</li>
<li>Redirigir el tráfico de HTTP a HTTPS.</li>
</ul>
<p>Estas funcionalidades las puedes consultar en el resto de artículos de la <a href="https://picodotdev.github.io/blog-bitix/series/web/">serie web</a>.</p>
<div class="alert alert-secondary sourcecode">
    <img src="https://picodotdev.github.io/blog-bitix/assets/images/icons/terminal.svg" width="64" height="64" alt="Terminal" title="Terminal" class="lozad sourcecode-icon">
    <p>
            El <a href="https://github.com/picodotdev/blog-ejemplos/tree/master/WebServerCompresionGzip">código fuente completo del ejemplo</a> puedes descargarlo del repositorio de ejemplos de Blog Bitix alojado en GitHub y probarlo en tu equipo ejecutando siguiente comando:<br><code>./docker-nginx.sh o ./docker-httpd.sh</code></p>
</div>
<div class="reference">
    Referencia:<br>
<ul>
<li><a href="http://nginx.org/en/docs/http/ngx_http_gzip_module.html">Module ngx_http_gzip_module</a></li>
<li><a href="http://httpd.apache.org/docs/current/mod/mod_deflate.html">Apache Module mod_deflate</a></li>
<li><a href="http://betterexplained.com/articles/how-to-optimize-your-site-with-gzip-compression/">How To Optimize Your Site With GZIP Compression</a></li>
</ul>
</div>
]]>
        </content>
        
            
                <category term="planeta-codigo"/>
            
                <category term="software"/>
            
                <category term="software-libre"/>
            
                <category term="web"/>
            
        
    </entry>
    <entry>
        <id>https://picodotdev.github.io/blog-bitix/2016/07/hemeroteca-9/</id>
        <title>Hemeroteca #9</title>
        <updated>2016-07-02T12:00:00+02:00</updated>
        <published>2016-07-01T13:00:00+02:00</published>
        <link rel="alternate" type="text/html" href="https://picodotdev.github.io/blog-bitix/2016/07/hemeroteca-9/"/>
        <author><name>picodotdev</name></author>
        <content type="html">
        <![CDATA[<p><strong>6 meses más y 35 nuevos artículos escritos sobre temas de programación, java, software libre y opinión. No son muchos artículos pero tampoco son artículos breves sobre noticias efímeras, en cada artículo trato de compartir no solo información sino conocimiento en los que además suelo incluir el código completo de un ejemplo totalmente funcional.</strong></p>]]>
        <![CDATA[<p>Como cada seis meses en Blog Bitix hago una recopilación de los artículos que he publicado durante este tiempo, comento sobre que he escrito y comparto cómo ha evolucionado esta bitácora. Durante estas 26 primeras semanas del año he escrito 35 nuevos artículos siguiendo mi ritmo de publicación no muy prolífico pero muy constante al ritmo de uno por semana, algunas publicando dos artículos casi siempre durante el fin de semana.</p>
<p>Los temas de los artículos han sido los habituales programación, GNU/Linux, Java, JavaScript, unos pocos de opinión y algún desempaquetado de producto que he comprado y he usado.</p>
<p>En la categoría de programación están los siguientes:</p>
<ul>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/01/introduccion-y-ejemplo-basico-sobre-vertx/">Introducción y ejemplo básico sobre Vert.x</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/01/aplicacion-web-con-spark-framework-y-java/">Aplicación web con Spark <em>framework</em> y Java</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/02/introduccion-al-protocolo-http-2/">Introducción al protocolo HTTP/2</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/02/configurar-http-2-en-nginx-apache-httpd-wildfly-o-jetty/">Configurar HTTP/2 en nginx, Apache HTTPD, WildFly o Jetty</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/03/introduccion-y-nuevas-caracteristicas-de-java-ee-7/">Introducción y nuevas características de Java EE 7</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/03/como-ejecutar-un-proceso-del-sistema-con-java/">Cómo ejecutar un proceso del sistema con Java</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/03/como-firmar-correos-electronicos-con-gpg-y-javamail/">Cómo firmar correos electrónicos con GPG y JavaMail</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/04/aplicacion-de-ejemplo-usando-varias-especificaciones-de-java-ee-7/">Aplicación de ejemplo usando varias especificaciones de Java EE 7</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/04/usar-twitter-desde-java-con-twitter4j/">Usar Twitter desde Java con twitter4j</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/04/el-componente-grid-de-apache-tapestry/">El componente Grid de Apache Tapestry</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/05/extraer-elementos-de-una-cadena-con-una-expresion-regular/">Extraer elementos de una cadena con una expresión regular</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/05/que-es-el-concepto-de-heap-pollution-en-java/">Qué es el concepto de Heap Pollution en Java</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/05/la-clase-threadlocal-de-java-y-usos-practicos/">La clase ThreadLocal de Java y usos prácticos</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/05/incluir-informacion-de-la-version-en-el-artefacto-distribuible-con-gradle/">Incluir información de la versión en el artefacto distribuible con Gradle</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/05/ejemplo-sencillo-de-como-crear-un-excel-o-csv-en-java-con-apache-poi-y-opencsv/">Ejemplo sencillo de como crear un excel en Java con Apache POI</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/06/ofrecer-contenido-personalizado-al-usuario-basado-en-su-ubicacion/">Ofrecer contenido personalizado al usuario basado en su ubicación</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/06/moment-js-libreria-javascript-para-fechas/">Moment.js, librería JavaScript para fechas</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/06/como-redirigir-peticiones-de-http-a-https-en-nginx-apache-tomcat-jetty-y-wildfly/">Cómo redirigir peticiones de HTTP a HTTPS en Nginx, Apache, Tomcat, Jetty y WildFly</a></li>
</ul>
<p>En la categoría de GNU/Linux y software libre están los siguientes artículos:</p>
<ul>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/02/como-recuperar-archivos-eliminados-o-de-una-unidad-corrupta-en-gnu-linux/">Cómo recuperar archivos eliminados o de una unidad corrupta en GNU/Linux</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/02/cifrar-unidad-usb-completamente-con-dm-crypt-y-luks-en-gnu-linux/">Cifrar unidad USB completamente con dm-crypt y LUKS en GNU/Linux</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/02/cifrar-archivos-con-encfs-en-gnu-linux/">Cifrar archivos con EncFS en GNU/Linux</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/03/como-eliminar-de-forma-segura-archivos-con-wipe-y-dd-en-gnu-linux/">Cómo eliminar de forma segura archivos con wipe y dd en GNU/Linux</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/03/cambiar-el-formato-de-archivos-de-musica-o-audio-en-gnu-linux/">Cambiar el formato de archivos de música o audio en GNU/Linux</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/04/cambiar-el-formato-de-archivos-de-video-o-peliculas-en-gnu-linux/">Cambiar el formato de archivos de vídeo o películas en GNU/Linux</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/05/4-opciones-ofimaticas-alternativas-gratuitas-a-microsoft-office/">4 opciones ofimáticas alternativas gratuitas a Microsoft Office</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/05/como-realizar-copias-de-seguridad-en-windows-con-freefilesync/">Cómo realizar copias de seguridad en Windows con FreeFileSync</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/06/atajos-de-teclado-basicos-de-la-terminal-en-gnu-linux/">Atajos de teclado básicos de la terminal en GNU/Linux</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/06/combinacion-de-teclas-para-copiar-y-pegar-en-la-terminal/">Combinación de teclas para copiar y pegar en la terminal</a></li>
</ul>
<p>Un trío de artículos de opinión:</p>
<ul>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/01/windows-10-y-office-2016-tan-faciles-de-usar-sin-licencia-como-siempre/">Windows 10 y Office 2016 tan fáciles de usar sin licencia como siempre</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/06/la-siguiente-disrupcion-tecnologica-la-convergencia/">La siguiente disrupción tecnológica, la convergencia</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/06/el-lenguaje-de-programacion-framework-y-librerias-importan/">El lenguaje de programación, <em>framework</em> y librerías importan</a></li>
</ul>
<p>Finalmente, un desempaquetado de una aspiradora que compré, un resumen de las presentaciones a las que asistí de la conferencia BilboStack y el sexto aniversario desde que empecé la bitácora:</p>
<ul>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/01/desempaquetado-y-analisis-de-aspiradora-dyson-dc37c-advanced-allergy/">Desempaquetado y análisis de aspiradora Dyson DC37c Advanced Allergy</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/01/conferencia-bilbostack-2016/">Conferencia BilboStack 2016</a></li>
<li><a href="https://picodotdev.github.io/blog-bitix/2016/02/6-aniversario-del-blog/">6º aniversario del blog</a></li>
</ul>
<p>Acabo de empezar dos series de artículos una <a href="https://picodotdev.github.io/blog-bitix/series/terminal/">serie sobre la terminal de GNU/Linux</a> y completando con otros cuantos artículos otra serie sobre varios temas de <a href="https://picodotdev.github.io/blog-bitix/series/web/">servidores y desarrollo web</a> que aún tengo pendiente de continuar con algunos más. Además y aunque no he escrito ningún artículo hablando sobre ellos publiqué una nueva actualización del <a href="https://picodotdev.github.io/blog-bitix/2014/02/libro-sobre-desarrollo-de-aplicaciones-con-apache-tapestry/">libro PlugIn Tapestry</a> con nuevo contenido y otro tanto revisado y actualizado.</p>
<p>Con algunos artículos he quedado bastante satisfecho como en los que he hablado de Microsoft Windows y Microsoft Office pero también varios sobre Java, Java EE y HTTP/2. Sin embargo, algo que no falla es escribir algo de JavaScript y recibir unos cuantos <em>retweets</em> y favoritos cuando lo publico en Twitter aunque tenga la sensación de no ser lo de lo mejor que haya escrito parece que es lo que más llama la atención posiblemente ya que la mayoría de la gente lo usa de una u otra forma. Por otro lado tengo la sensación de que escribo para Google ya que recibo pocos comentarios seguramente por la forma en la que escribo ya que no suelo personalizar los artículos poniendo información personal o intercalando algunos chistes, más bien me centro en el aspecto técnico del que estoy escribiendo pero tampoco pasa nada, compartir el poco o más conocimiento que tengo y otro que voy aprendiendo ya es suficiente recompensa para mi si además veo que cuanto más tiempo pasa el número de visitas crecen algo me mantiene con motivación para seguir escribiendo y publicando contenido.</p>
<p>En cuanto a como han evolucionado las visitas siempre es motivante ver que con el nuevo contenido añadido y poco a poco las visitas y número de páginas vistas aumentan algo, en cualquier caso siguen siendo pocas con las que seguramente tengan otras bitácoras de temática similar pero también seguramente más que otros cuantas. De casi aproximadamente 7000 sesiones al mes que tenía en enero ahora en junio Analytics me contabiliza unas 11000, en el mismo periodo de tiempo he pasado de 9000 páginas vistas a casi 13500. La mayor parte de esta mejora ha sido por unos pocos artículos que se habrán posicionado bien en los primeros meses del año en el buscador Google fuente de la que provienen la mayor parte de las visitas.</p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/07/hemeroteca-9/images/analytics_hua428655850c84d6e227cc12cef1d388e_61923_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Evolución de sesiones mensuales en Blog Bitix"><img src="https://picodotdev.github.io/blog-bitix/2016/07/hemeroteca-9/images/analytics_hua428655850c84d6e227cc12cef1d388e_61923_300x200_fit_box_3.png" width="300" height="113" alt="Evolución de sesiones mensuales en Blog Bitix" title="Evolución de sesiones mensuales en Blog Bitix"  class="lozad "></a></p>
<figcaption>Evolución de sesiones mensuales en Blog Bitix</figcaption>
</figure>
</div>
<p>Durante este tiempo en la bitácora he realizado algunos cambios haciendo el tamaño de letra más pequeña de las secciones de referencia y series de artículos así como en las series de artículos numerar los artículos. He añadido publicidad a nivel de página para los dispositivos móviles soportados que desde no hace mucho ofrece Google AdSense. He añadido un buscador con la tecnología de Google para buscar contenido en Blog Bitix y he minimizado el HTML con la intención de que la cantidad de datos descargados al acceder al <em>blog</em> sean unos cuantos kilobytes menos. También he añadido un mensaje para aquellos usuarios que usen AdBlock y lo tengan activado instándolos a considerar que lo desactiven en Blog Bitix ya que la publicidad que incluyo en el <em>blog</em> es amable y poco intrusiva.</p>
<p>Con la publicidad que incluyo y los enlaces de afiliación para Amazon de mayoritariamente libros haré alguna nueva donación a algún proyecto de software libre que use o me resulte de interés. Con las enlaces de Amazon recibí una nueva transferencia de unos 25 € y con la publicidad de AdSense estoy a punto de recibir la correspondiente transferencia de aproximadamente 70 € al superar el límite mínimo, cuando la reciba me plantearé hacer la o las donaciones. No serán muy elevadas pero con ellas espero contribuir y devolver algo al software libre que uso a diario tanto de forma personal como en el trabajo. La primera donación que hice fue <a href="https://picodotdev.github.io/blog-bitix/2015/12/yo-apoyo-al-software-libre-tu-tambien/">comprando una par de camisetas a la FSFE</a>.</p>
<p>Tengo muchos artículos escritos pero pendientes de publicar y muchas ideas de artículos que me permitirían seguir escribiendo a mi ritmo de publicación durante más de un año o dos sin ocurrírseme ninguna nueva idea de artículo aunque algunas ideas que he apuntado más tarde las deseche. Más que tiempo para escribir me falta tiempo para editar y publicar los artículos, compaginarlo con el trabajo me absorbe gran parte del tiempo libre que me queda.</p>
<p>Y por mi esto ha sido todo durante estos seis meses pasados. ¡A por los siguientes 6 meses con nuevos artículos!</p>
]]>
        </content>
        
            
                <category term="blog"/>
            
                <category term="java"/>
            
                <category term="planeta-codigo"/>
            
                <category term="programacion"/>
            
                <category term="software"/>
            
                <category term="software-libre"/>
            
                <category term="tapestry"/>
            
                <category term="gnu-linux"/>
            
        
    </entry>
    <entry>
        <id>https://picodotdev.github.io/blog-bitix/2016/06/combinacion-de-teclas-para-copiar-y-pegar-en-la-terminal/</id>
        <title>Combinación de teclas para copiar y pegar en la terminal</title>
        <updated>2020-06-02T18:15:00+02:00</updated>
        <published>2016-06-24T15:30:00+02:00</published>
        <link rel="alternate" type="text/html" href="https://picodotdev.github.io/blog-bitix/2016/06/combinacion-de-teclas-para-copiar-y-pegar-en-la-terminal/"/>
        <author><name>picodotdev</name></author>
        <content type="html">
        <![CDATA[<p><strong>En vez de usar el botón derecho de ratón y hacer clic sobre el menú desplegable para realizar la acción de copiar y pegar se puede emplear el teclado con una combinación de teclas para realizar estas mismas acciones. Si estas operaciones se realizan frecuentemente la combinación de teclas es más rápido y sencillo.</strong></p>]]>
        <![CDATA[<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/gnu.svg" width="200" height="196" alt="GNU" title="GNU"  class=""></p>
</div>
<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/linux.svg" width="200" height="232" alt="Linux" title="Linux"  class=""></p>
</div>
<p>Usar una combinación de teclas para realizar alguna acción es más rápido que usar el ratón. Si se trata de una acción que realizamos frecuentemente podemos ahorrar bastante tiempo. Yo trabajo bastante con la terminal de GNOME y hasta ahora no sabía cómo copiar y pegar con una combinación de teclas del teclado.</p>
<p>Esto no es algo nada vital pero si es algo que usamos frecuentemente puede hacernos más fácil la tarea y ahorrarnos tiempo al igual que conocer y usar los <a href="https://picodotdev.github.io/blog-bitix/2016/06/atajos-de-teclado-basicos-de-la-terminal-en-gnu-linux/">atajos de teclado básicos de la terminal en GNU/Linux</a> para realizar otras operaciones comunes en la terminal como desplazarse al principio del símbolo del sistema, al final, a la siguiente o anterior palabra, limpiar la terminal, hacer búsquedas de texto para encontrar coincidencias, ejecutar el comando anterior, buscar en el historial de comandos o gestionar procesos.</p>
<p>La combinación de teclas estandarizada para copiar y pegar en cualquier aplicación tanto en Linux como en Windows es <kbd>Ctrl+c</kbd> para copiar y <kbd>Ctrl+v</kbd> para pegar de y al portapapeles. En la terminal (al menos en la de GNOME) cambia ligeramente y hay que usar <kbd>Ctrl+Shift+c</kbd> para copiar y <kbd>Ctrl+Shift+v</kbd> para pegar el texto en la posición del cursor.</p>
<p>Para copiar el texto deseado hay que usar el ratón para seleccionar el texto pero con la combinación de teclas nos evitaremos pulsar el botón derecho del ratón, desplazarnos hasta la opción <em>Copiar</em> del menú y finalmente hacer clic en él. Para pegar con el ratón la acción está en el mismo menú pero pulsando en la opción <em>Pegar</em>.</p>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/06/combinacion-de-teclas-para-copiar-y-pegar-en-la-terminal/images/gnome-terminal_hud5772c79c509d7016f65842c866d599f_25308_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Menú para copiar y pegar en la terminal de GNOME"><img src="https://picodotdev.github.io/blog-bitix/2016/06/combinacion-de-teclas-para-copiar-y-pegar-en-la-terminal/images/gnome-terminal_hud5772c79c509d7016f65842c866d599f_25308_300x200_fit_box_3.png" width="300" height="172" alt="Menú para copiar y pegar en la terminal de GNOME" title="Menú para copiar y pegar en la terminal de GNOME"  class="lozad "></a></p>
<figcaption>Menú para copiar y pegar en la terminal de GNOME</figcaption>
</figure>
</div>
<div class="reference">
    Referencia:<br>
<p><a href="http://askubuntu.com/questions/211292/a-terminal-which-provides-select-to-copy-and-right-click-to-paste">A terminal which provides select-to-copy and right-click-to-paste</a></p>
</div>
]]>
        </content>
        
            
                <category term="gnu-linux"/>
            
                <category term="planeta-codigo"/>
            
                <category term="software-libre"/>
            
        
    </entry>
    <entry>
        <id>https://picodotdev.github.io/blog-bitix/2016/06/como-redirigir-peticiones-de-http-a-https-en-nginx-apache-tomcat-jetty-y-wildfly/</id>
        <title>Cómo redirigir peticiones de HTTP a HTTPS en Nginx, Apache, Tomcat, Jetty y WildFly</title>
        <updated>2016-06-18T13:00:00+02:00</updated>
        <published>2016-06-18T13:00:00+02:00</published>
        <link rel="alternate" type="text/html" href="https://picodotdev.github.io/blog-bitix/2016/06/como-redirigir-peticiones-de-http-a-https-en-nginx-apache-tomcat-jetty-y-wildfly/"/>
        <author><name>picodotdev</name></author>
        <content type="html">
        <![CDATA[<p><strong>Usar el protocolo seguro HTTPS proporciona confidencialidad en la comunicación entre el navegador del usuario y el servidor, es una forma de mejorar la seguridad y privacidad. Por ello el buscador de Google lo tiene en cuenta como un parámetro que afecta al SEO siendo mejor usar el protocolo seguro. Sin embargo, el usuario puede estar accediendo por el protocolo no seguro a la página web al poner la dirección en la barra de direcciones o hay enlaces hacia nuestro sitio en otros que hacen uso del protocolo HTTP. Si queremos que nuestro sitio sea accedido únicamente usando el protocolo seguro deberemos hacer una redirección en el servidor.</strong></p>]]>
        <![CDATA[<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/nginx.svg" width="300" height="64" alt="Nginx" title="Nginx"  class=""></p>
</div>
<div class="logotypes">
<p>
<img src="https://picodotdev.github.io/blog-bitix/assets/images/logotypes/apache.svg" width="150" height="264" alt="Apache HTTPD" title="Apache HTTPD"  class=""></p>
</div>
<p>Si tenemos una aplicación o una bitácora que hasta el momento era accedido por el protocolo no cifrado <abbr title="Hypertext Transfer Protocol">HTTP</abbr> ahora que Google tiene en cuenta para el <abbr title="Search engine optimization">SEO</abbr> que usar el protocolo seguro es un parámetro que tiene en cuenta el algoritmo de posicionamiento en el buscador quizá queramos redirigir todo el tráfico de HTTP al protocolo cifrado <abbr title="Hypertext Transfer Protocol Secure">HTTPS</abbr>.</p>
<p>Para usar HTTPS deberemos primero <a href="https://picodotdev.github.io/blog-bitix/2014/02/configurar-ssl-en-un-servidor-tomcat-jboss-wildfly-lighttpd-nginx-apache/">configurar el protocolo TLS/SSL en el servidor web o de aplicaciones</a> usando un certificado SSL que podemos obtener ahora con <a href="https://letsencrypt.org/">Let’s Encrypt</a> de forma gratuita  o <a href="https://picodotdev.github.io/blog-bitix/2014/02/generar-y-convertir-claves-y-certificados-con-openssl/">generar un certificado</a> nosotros y que sea firmado por una autoridad de confianza. Una vez que el servidor es capaz de servir el tráfico por el protocolo HTTPS estamos en condiciones de realizar la redirección al protocolo cifrado HTTPS en el puerto 443 cuando sea accedido por el protocolo no cifrado HTTP en el puerto 80.</p>
<p>Dependiendo del servidor web o de aplicaciones que usemos la configuración será distinta, incluso lo podemos hacer a nivel de aplicación con la ayuda del <em>framework</em> web si este ofrece algún soporte para ello. A continuación incluiré la configuración necesaria para los servidores web y de aplicaciones más populares como son <a href="https://nginx.org/">Nginx</a>, <a href="https://httpd.apache.org/">Apache HTTPD</a>, <a href="https://tomcat.apache.org/">Tomcat</a>, <a href="https://eclipse.org/jetty/">Jetty</a> y <a href="https://wildfly.org/">WildFly</a> y finalmente el caso haciendo la redirección a nivel de aplicación con el <em>framework</em> <a href="https://tapestry.apache.org/">Apache Tapestry</a> para desarrollar aplicaciones web con el lenguaje Java.</p>
<div class="alert alert-warning tableofcontents">
    <h2>Contenido del artículo</h2>
    <toc></toc>
</div>
<h3 id="redirigir-de-http-a-https-en-nginx">Redirigir de HTTP a HTTPS en Nginx</h3>
<p>Usando <a href="https://www.docker.com/">Docker</a> nos resultará más sencillo hacer la prueba que teniendo que instalar el paquete de Nginx en nuestra distribución. Puedes consultar <a href="https://picodotdev.github.io/blog-bitix/series/docker/">varios artículos sobre Docker</a> que he escrito a modo introducción y para empezar a usarlo.</p>
<p>En la sección del servidor que escucha en el puerto HTTP (80) realizamos la redirección permanente con el código de estado 301 hacia el protocolo HTTPS. En la sección del servidor que escucha en el puerto HTTPS (443) activa el uso de TLS/SSL usando varias directivas y sirve los documentos de <em>/usr/share/nginx/html</em> en la ruta <em>/</em>.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span><span class="lnt">12&#10;</span><span class="lnt">13&#10;</span><span class="lnt">14&#10;</span><span class="lnt">15&#10;</span><span class="lnt">16&#10;</span><span class="lnt">17&#10;</span><span class="lnt">18&#10;</span><span class="lnt">19&#10;</span><span class="lnt">20&#10;</span><span class="lnt">21&#10;</span><span class="lnt">22&#10;</span><span class="lnt">23&#10;</span><span class="lnt">24&#10;</span><span class="lnt">25&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="k">server</span> <span class="p">{</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">listen</span>&nbsp;&nbsp;&nbsp;&nbsp;   <span class="mi">80</span><span class="p">;</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">server_name</span>  <span class="s">localhost</span><span class="p">;</span>&#10;&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">return</span> <span class="mi">301</span> <span class="s">https://</span><span class="nv">$host$request_uri</span><span class="p">;</span>&#10;<span class="p">}</span>&#10;&#10;<span class="k">server</span> <span class="p">{</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">listen</span>&nbsp;&nbsp;&nbsp;&nbsp;   <span class="mi">443</span> <span class="s">ssl</span><span class="p">;</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">server_name</span>  <span class="s">localhost</span><span class="p">;</span>&#10;&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">ssl_certificate</span>&nbsp;&nbsp;&nbsp;&nbsp;  <span class="s">localhost.pem</span><span class="p">;</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">ssl_certificate_key</span>  <span class="s">localhost.key</span><span class="p">;</span>&#10;&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">ssl_session_timeout</span>  <span class="mi">5m</span><span class="p">;</span>&#10;&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">ssl_protocols</span>  <span class="s">SSLv2</span> <span class="s">SSLv3</span> <span class="s">TLSv1</span><span class="p">;</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">ssl_ciphers</span>  <span class="s">HIGH:!aNULL:!MD5</span><span class="p">;</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">ssl_prefer_server_ciphers</span>   <span class="no">on</span><span class="p">;</span>&#10;&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">root</span>   <span class="s">/usr/share/nginx/html</span><span class="p">;</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kn">index</span>  <span class="s">index.html</span> <span class="s">index.htm</span><span class="p">;</span>&#10;&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">}</span>&#10;<span class="p">}</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>nginx.conf</span>
    </div>
</div>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ docker run --rm --name nginx -p 80:80 -p 443:443 -v <span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/nginx.conf:/etc/nginx/conf.d/default.conf:ro -v <span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/localhost.key:/etc/nginx/localhost.key:ro -v <span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/localhost.pem:/etc/nginx/localhost.pem:ro nginx&#10;&#10;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>docker-nginx.sh</span>
    </div>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/06/como-redirigir-peticiones-de-http-a-https-en-nginx-apache-tomcat-jetty-y-wildfly/images/nginx-https_hue63bd68d6da26158af47489fff3f4633_39049_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Redirección de HTTP a HTTPS en Nginx"><img src="https://picodotdev.github.io/blog-bitix/2016/06/como-redirigir-peticiones-de-http-a-https-en-nginx-apache-tomcat-jetty-y-wildfly/images/nginx-https_hue63bd68d6da26158af47489fff3f4633_39049_300x200_fit_box_3.png" width="300" height="193" alt="Redirección de HTTP a HTTPS en Nginx" title="Redirección de HTTP a HTTPS en Nginx"  class="lozad "></a></p>
<figcaption>Redirección de HTTP a HTTPS en Nginx</figcaption>
</figure>
</div>
<h3 id="redirigir-de-http-a-https-en-apache-httpd">Redirigir de HTTP a HTTPS en Apache HTTPD</h3>
<p>La configuración para Apache HTTPD es similar simplemente cambian las directivas según su propia configuración. Se activan los módulos para usar TLS/SSL y el que permite hacer reescrituras de las URL.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span><span class="lnt">12&#10;</span><span class="lnt">13&#10;</span><span class="lnt">14&#10;</span><span class="lnt">15&#10;</span><span class="lnt">16&#10;</span><span class="lnt">17&#10;</span><span class="lnt">18&#10;</span><span class="lnt">19&#10;</span><span class="lnt">20&#10;</span><span class="lnt">21&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-apache" data-lang="apache">...&#10;&#10;<span class="nb">LoadModule</span> ssl_module modules/mod_ssl.so&#10;<span class="nb">LoadModule</span> rewrite_module modules/mod_rewrite.so&#10;&#10;...&#10;&#10;<span class="nt">&lt;VirtualHost</span> <span class="s">*:80</span><span class="nt">&gt;</span>&#10;   <span class="nb">ServerName</span> localhost&#10;   <span class="nb">RewriteEngine</span> <span class="k">On</span>&#10;   <span class="nb">RewriteCond</span> %{HTTPS} <span class="k">off</span>&#10;   <span class="nb">RewriteRule</span> (.*) https://%{SERVER_NAME}$1 [R,L] &#10;<span class="nt">&lt;/VirtualHost&gt;</span>&#10;&#10;<span class="nt">&lt;VirtualHost</span> <span class="s">*:443</span><span class="nt">&gt;</span>&#10;   <span class="nb">ServerName</span> localhost&#10;   <span class="nb">DocumentRoot</span> <span class="sx">/usr/local/apache2/htdocs</span>&#10;   <span class="nb">SSLEngine</span> <span class="k">On</span>&#10;   <span class="nb">SSLCertificateFile</span> conf/localhost.crt&#10;   <span class="nb">SSLCertificateKeyFile</span> conf/localhost.key&#10;<span class="nt">&lt;/VirtualHost&gt;</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>httpd.conf</span>
    </div>
</div>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ docker run --rm --name apache -p 80:80 -p 443:443 -v <span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/httpd.conf:/usr/local/apache2/conf/httpd.conf:ro -v <span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/localhost.key:/usr/local/apache2/conf/localhost.key:ro -v <span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/localhost.crt:/usr/local/apache2/conf/localhost.crt:ro httpd&#10;&#10;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>docker-httpd.sh</span>
    </div>
</div>
<div class="media">
<figure>
<p>
<a href="https://picodotdev.github.io/blog-bitix/2016/06/como-redirigir-peticiones-de-http-a-https-en-nginx-apache-tomcat-jetty-y-wildfly/images/apache-httpd-https_hubf9e456f70a86242ec4ea551d624d414_17136_2560x1440_fit_box_3.png" data-gallery="data-gallery" title="Redirección de HTTP a HTTPS en Apache HTTPD"><img src="https://picodotdev.github.io/blog-bitix/2016/06/como-redirigir-peticiones-de-http-a-https-en-nginx-apache-tomcat-jetty-y-wildfly/images/apache-httpd-https_hubf9e456f70a86242ec4ea551d624d414_17136_300x200_fit_box_3.png" width="300" height="193" alt="Redirección de HTTP a HTTPS en Apache HTTPD" title="Redirección de HTTP a HTTPS en Apache HTTPD"  class="lozad "></a></p>
<figcaption>Redirección de HTTP a HTTPS en Apache HTTPD</figcaption>
</figure>
</div>
<h3 id="redirigir-de-http-a-https-en-tomcat-jetty-y-wildfly">Redirigir de HTTP a HTTPS en Tomcat, Jetty y WildFly</h3>
<p>Es muy habitual que los servidores de aplicaciones como Tomcat, Jetty o WildFly sean accedidos no directamente por el navegador del usuario sino a través de un servidor web como Nginx o Apache haciendo de <em>proxy</em>. Cuando hay un servidor web que actúa de <em>proxy</em> para el servidor de aplicaciones es posible decidir que el establecimiento de la conexión cifrada TLS/SSL del protocolo HTTPS se realice en el servidor web y la comunicación cifrada termine al mismo tiempo en él, la comunicación entre el servidor web y el servidor de aplicaciones se realizaría usando el protocolo HTTP. Esto descarga del servidor de aplicaciones la tarea algo costosa del establecimiento de la conexión cifrada y tener que cifrar el tráfico.</p>
<p>Para el caso de Tomcat, Jetty y WildFly habiendo configurado la posibilidad de usar el protocolo seguro la configuración para hacer la redirección es la misma para los tres, habría que añadir al archivo descriptor <em>web.xml</em> de la aplicación el siguiente fragmento XML. Esto hace que el servidor fuerce la conexión segura para los recursos indicados, en este caso todos al usar el patrón <em>/*</em>.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-XML" data-lang="XML">...&#10;<span class="nt">&lt;security-constraint&gt;</span>&#10;  <span class="nt">&lt;web-resource-collection&gt;</span>&#10;	<span class="nt">&lt;web-resource-name&gt;</span>Confidential URLs<span class="nt">&lt;/web-resource-name&gt;</span>&#10;	<span class="nt">&lt;url-pattern&gt;</span>/*<span class="nt">&lt;/url-pattern&gt;</span>&#10;  <span class="nt">&lt;/web-resource-collection&gt;</span>&#10;  <span class="nt">&lt;user-data-constraint&gt;</span>&#10;	<span class="nt">&lt;transport-guarantee&gt;</span>CONFIDENTIAL<span class="nt">&lt;/transport-guarantee&gt;</span>&#10;  <span class="nt">&lt;/user-data-constraint&gt;</span>&#10;<span class="nt">&lt;/security-constraint&gt;</span>&#10;...</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>web.xml</span>
    </div>
</div>
<h3 id="redirigir-de-http-a-https-en-en-una-aplicación-java">Redirigir de HTTP a HTTPS en en una aplicación Java</h3>
<p>Con algún mecanismo propio que empleemos al programar la aplicación (en Java por ejemplo con un filtro) o el <em>framework</em> web que usemos para desarrollar la aplicación web quizá nos ofrezca algún mecanismo para redirigir las peticiones al puerto seguro cuando sea accedida por el puerto inseguro, por ejemplo, para que la redirección la haga la aplicación en vez del servidor con el <em>framework</em> Apache Tapestry basta añadir la siguiente configuración en el módulo de la aplicación.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre tabindex="0" class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span><span class="lnt">3&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">contributeMetaDataLocator</span><span class="o">(</span><span class="n">MappedConfiguration</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">configuration</span><span class="o">)</span> <span class="o">{</span>&#10;	<span class="n">configuration</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">MetaDataConstants</span><span class="o">.</span><span class="na">SECURE_PAGE</span><span class="o">,</span> <span class="s">&#34;true&#34;</span><span class="o">);</span>&#10;<span class="o">}</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>AppModule.java</span>
    </div>
</div>
<div class="alert alert-secondary sourcecode">
    <img src="https://picodotdev.github.io/blog-bitix/assets/images/icons/terminal.svg" width="64" height="64" alt="Terminal" title="Terminal" class="lozad sourcecode-icon">
    <p>
            El <a href="https://github.com/picodotdev/blog-ejemplos/tree/master/WebServerRedirectHTTPtoHTTPS">código fuente completo del ejemplo</a> puedes descargarlo del repositorio de ejemplos de Blog Bitix alojado en GitHub y probarlo en tu equipo ejecutando siguiente comando:<br><code>./docker-nginx.sh o ./docker-httpd.sh</code></p>
</div>
<div class="reference">
    Referencia:<br>
<ul>
<li><a href="https://wiki.apache.org/httpd/RedirectSSL">Redirect Request to SSL</a></li>
<li><a href="https://confluence.atlassian.com/stashkb/redirect-http-requests-to-https-333810132.html">Redirect HTTP Requests to HTTPS (in Tomcat)</a></li>
<li><a href="http://www.eclipse.org/jetty/documentation/current/configuring-ssl.html">Configuring SSL/TLS (in Jetty)</a></li>
</ul>
</div>
]]>
        </content>
        
            
                <category term="planeta-codigo"/>
            
                <category term="seguridad"/>
            
                <category term="software"/>
            
                <category term="software-libre"/>
            
                <category term="web"/>
            
        
    </entry>
    
</feed>